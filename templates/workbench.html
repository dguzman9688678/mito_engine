<!--
MITO Engine - AI Agent & Tool Creator
Name: MITO Engine
Version: 1.2.0
Created by: Daniel Guzman
Contact: guzman.danield@outlook.com
Description: AI Agent & Tool Creator
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MITO AI Workbench</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            min-height: 100vh;
            color: #333;
        }

        .workbench-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            overflow-y: auto;
        }

        .sidebar h2 {
            color: #1e3a8a;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .tool-section {
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tool-section h3 {
            color: #3730a3;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .tool-btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tool-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tool-btn.active {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        /* Main Workspace */
        .workspace {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .workspace-header {
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .workspace-header h1 {
            color: white;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .workspace-header p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        /* Tool Panels */
        .tool-panel {
            display: none;
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .tool-panel.active {
            display: flex;
            flex-direction: column;
        }

        .input-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .input-section h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
        }

        .input-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea.input-field {
            min-height: 120px;
            resize: vertical;
        }

        .select-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
        }

        .generate-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Output Section */
        .output-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            flex: 1;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .output-section h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .output-content {
            min-height: 300px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e5e7eb;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-y: auto;
        }

        .image-output {
            text-align: center;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .generated-image {
            max-width: 100%;
            max-height: 500px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .loading {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #667eea;
            font-weight: 600;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #e5e7eb;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            color: #dc2626;
            background: #fef2f2;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #fecaca;
            margin-top: 10px;
        }

        .success-message {
            color: #059669;
            background: #ecfdf5;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #a7f3d0;
            margin-top: 10px;
        }

        /* Chat Interface Styles */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-status {
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }

        .message {
            display: flex;
            margin-bottom: 15px;
            align-items: flex-start;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .user-message .message-avatar {
            background: #059669;
            order: 2;
            margin-right: 0;
            margin-left: 10px;
        }

        .message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 70%;
            line-height: 1.4;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .user-message .message-content {
            background: #059669;
            color: white;
            margin-left: auto;
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .chat-input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            border-color: #667eea;
        }

        .chat-send-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .chat-send-btn:hover {
            background: #5a67d8;
        }

        /* File Management Styles */
        .upload-zone {
            border: 2px dashed #d0d0d0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .upload-zone:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .upload-zone.large {
            padding: 60px 40px;
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .upload-text strong {
            display: block;
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 8px;
        }

        .upload-text p {
            color: #666;
            margin: 5px 0;
        }

        .upload-text small {
            color: #888;
            font-size: 0.9rem;
        }

        .conversion-options, .upload-options {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .upload-options {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .upload-options label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .file-manager-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            height: 600px;
        }

        .file-upload-section, .file-list-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .file-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .control-btn {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .file-list {
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
        }

        .file-item {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .file-item:hover {
            background: #f8f9fa;
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-item.selected {
            background: rgba(102, 126, 234, 0.1);
            border-left: 3px solid #667eea;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-checkbox {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            background: #667eea;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .file-details h4 {
            margin: 0 0 5px 0;
            font-size: 1rem;
            color: #333;
        }

        .file-details p {
            margin: 0;
            font-size: 0.9rem;
            color: #666;
        }

        .file-actions {
            display: flex;
            gap: 8px;
        }

        .file-action-btn {
            background: none;
            border: 1px solid #e0e0e0;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .file-action-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #888;
            font-style: italic;
        }

        .converter-area {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
        }

        /* Floating Chat Styles */
        .floating-chat {
            position: fixed;
            right: -400px;
            top: 100px;
            width: 380px;
            height: 500px;
            background: white;
            border-radius: 15px 0 0 15px;
            box-shadow: -5px 0 25px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            transition: right 0.3s ease;
            border: 1px solid #e0e0e0;
        }

        .floating-chat.open {
            right: 0;
        }

        .floating-chat.minimized {
            height: 60px;
        }

        .floating-chat-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border-radius: 15px 0 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .floating-chat-header h4 {
            margin: 0;
            font-size: 1.1rem;
        }

        .floating-chat-controls {
            display: flex;
            gap: 8px;
        }

        .minimize-btn, .close-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
            z-index: 1001;
            position: relative;
        }

        .minimize-btn:hover, .close-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .floating-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: #f8f9fa;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .floating-chat.minimized .floating-chat-messages,
        .floating-chat.minimized .floating-chat-input {
            display: none;
        }

        .floating-chat-input {
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 8px;
            border-radius: 0 0 0 15px;
        }

        .floating-chat .message {
            margin-bottom: 8px;
        }

        .floating-chat .message-avatar {
            width: 30px;
            height: 30px;
            font-size: 0.8rem;
        }

        .floating-chat .message-content {
            max-width: 85%;
            font-size: 0.9rem;
            padding: 8px 12px;
        }

        .floating-chat .chat-input {
            font-size: 0.9rem;
            padding: 8px 12px;
        }

        .floating-chat .chat-send-btn {
            padding: 8px 15px;
            font-size: 0.9rem;
        }

        /* Chat Toggle Button */
        .chat-toggle-btn {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            z-index: 999;
            transition: all 0.3s ease;
            display: none;
        }

        .chat-toggle-btn:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .chat-toggle-btn.visible {
            display: block;
        }

        /* Plugin Manager Styles */
        .plugin-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 8px 16px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .category-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .plugin-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid #e9ecef;
        }

        .plugin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .plugin-header h4 {
            margin: 0;
            color: #333;
        }

        .plugin-status {
            background: #28a745;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .plugin-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .plugin-btn {
            padding: 6px 12px;
            border: 1px solid #007bff;
            background: #007bff;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .plugin-btn.secondary {
            background: white;
            color: #007bff;
        }

        .custom-plugin-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
        }

        /* API Integration Styles */
        .api-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .api-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #e9ecef;
        }

        .api-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .api-header h4 {
            margin: 0;
            color: #333;
        }

        .connection-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .connection-status.connected {
            background: #d4edda;
            color: #155724;
        }

        .connection-status.disconnected {
            background: #f8d7da;
            color: #721c24;
        }

        .api-config {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 12px;
        }

        .api-key-input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }

        .connect-btn {
            padding: 8px 16px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .connect-btn:hover {
            background: #218838;
        }

        .file-item.selected {
            background: #e7f3ff;
            border: 2px solid #007bff;
        }

        .file-checkbox {
            margin-right: 12px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Database Manager Styles */
        .database-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .database-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .database-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #e9ecef;
            transition: all 0.2s ease;
        }

        .database-card:hover {
            border-color: #007bff;
            box-shadow: 0 2px 8px rgba(0,123,255,0.1);
        }

        .database-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .database-header h4 {
            margin: 0;
            color: #333;
        }

        .database-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .database-status.free {
            background: #d4edda;
            color: #155724;
        }

        .database-features {
            display: flex;
            gap: 8px;
            margin: 12px 0;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: #e9ecef;
            color: #495057;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
        }

        .database-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .database-btn {
            padding: 8px 16px;
            border: 1px solid #007bff;
            background: #007bff;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .database-btn:hover {
            background: #0056b3;
        }

        .database-btn.secondary {
            background: white;
            color: #007bff;
        }

        .database-btn.secondary:hover {
            background: #f8f9fa;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .workbench-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                max-height: 300px;
            }

            .file-manager-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="workbench-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h2>AI Workbench</h2>
            
            <div class="tool-section">
                <h3>Creative Tools</h3>
                <button class="tool-btn active" onclick="switchTool('whiteboard')">
                    AI Whiteboard
                </button>
                <button class="tool-btn" onclick="switchTool('image-generator')">
                    PNG Generator
                </button>
                <button class="tool-btn" onclick="switchTool('code-generator')">
                    Code Generator
                </button>
                <button class="tool-btn" onclick="switchTool('nlu-processor')">
                    NLU Processor
                </button>
            </div>

            <div class="tool-section">
                <h3>Project Builder</h3>
                <button class="tool-btn" onclick="switchTool('phase-manager')">
                    Phase Manager
                </button>
                <button class="tool-btn" onclick="switchTool('project-templates')">
                    Project Templates
                </button>
                <button class="tool-btn" onclick="switchTool('agent-builder')">
                    Agent Builder
                </button>
                <button class="tool-btn" onclick="switchTool('agent-tester')">
                    Agent Tester
                </button>
            </div>

            <div class="tool-section">
                <h3>Chat Assistant</h3>
                <button class="tool-btn" onclick="switchTool('mito-chat')">
                    Chat with MITO
                </button>
                <button class="tool-btn" onclick="toggleFloatingChat()">
                    Floating Chat
                </button>
            </div>

            <div class="tool-section">
                <h3>File Tools</h3>
                <button class="tool-btn" onclick="switchTool('file-converter')">
                    File Converter
                </button>
                <button class="tool-btn" onclick="switchTool('file-manager')">
                    Upload/Download
                </button>
            </div>

            <div class="tool-section">
                <h3>Extensions</h3>
                <button class="tool-btn" onclick="switchTool('plugin-manager')">
                    Plugin Manager
                </button>
                <button class="tool-btn" onclick="switchTool('api-integrations')">
                    API Integrations
                </button>
                <button class="tool-btn" onclick="switchTool('database-manager')">
                    Database Manager
                </button>
                <button class="tool-btn" onclick="switchTool('deployment-manager')">
                    Deployment Manager
                </button>
                <button class="tool-btn" onclick="switchTool('ai-factory')">
                    AI Factory
                </button>
                <button class="tool-btn" onclick="switchTool('model-trainer')">
                    Model Trainer
                </button>
                <button class="tool-btn" onclick="switchTool('ecosystem-orchestrator')">
                    Ecosystem Orchestrator
                </button>
            </div>

            <div class="tool-section">
                <h3>Utilities</h3>
                <button class="tool-btn" onclick="switchTool('text-processor')">
                    Text Processor
                </button>
                <button class="tool-btn" onclick="switchTool('data-analyzer')">
                    Data Analyzer
                </button>
            </div>
        </div>

        <!-- Main Workspace -->
        <div class="workspace">
            <div class="workspace-header">
                <h1 id="workspace-title">AI Whiteboard</h1>
                <p id="workspace-description">Capture ideas and concepts with AI-powered visual whiteboard</p>
            </div>

            <!-- AI Whiteboard Panel -->
            <div class="tool-panel active" id="whiteboard">
                <div class="input-section">
                    <h3>AI Whiteboard</h3>
                    <div class="input-group">
                        <label for="whiteboard-notes">Ideas & Notes</label>
                        <textarea id="whiteboard-notes" class="input-field" 
                                placeholder="Write your ideas, concepts, project plans... MITO will help organize and expand them"
                                style="min-height: 200px;"></textarea>
                    </div>
                    <div class="input-group">
                        <label for="concept-type">Concept Type</label>
                        <select id="concept-type" class="select-field">
                            <option value="project">Project Idea</option>
                            <option value="feature">Feature Design</option>
                            <option value="workflow">Workflow Plan</option>
                            <option value="architecture">System Architecture</option>
                            <option value="brainstorm">Brainstorming Session</option>
                        </select>
                    </div>
                    <button class="generate-btn" onclick="enhanceIdeas()">
                        Enhance with AI
                    </button>
                    <button class="generate-btn" onclick="visualizeIdeas()" style="margin-left: 10px; background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        Create Visual
                    </button>
                </div>

                <div class="output-section">
                    <h3>Enhanced Concepts</h3>
                    <div class="output-content" id="whiteboard-output">
                        Your AI-enhanced ideas and structured concepts will appear here...
                    </div>
                </div>
            </div>

            <!-- PNG Generator Panel -->
            <div class="tool-panel" id="image-generator">
                <div class="input-section">
                    <h3>Create Image</h3>
                    <div class="input-group">
                        <label for="image-prompt">Image Description</label>
                        <textarea id="image-prompt" class="input-field" 
                                placeholder="Describe the image you want to create... (e.g., 'A futuristic city with flying cars at sunset')"></textarea>
                    </div>
                    <div class="input-group">
                        <label for="image-style">Style</label>
                        <select id="image-style" class="select-field">
                            <option value="realistic">Realistic</option>
                            <option value="artistic">Artistic</option>
                            <option value="cartoon">Cartoon</option>
                            <option value="abstract">Abstract</option>
                            <option value="photographic">Photographic</option>
                        </select>
                    </div>
                    <button class="generate-btn" onclick="generateImage()">
                        Generate Image
                    </button>
                </div>

                <div class="output-section">
                    <h3>Generated Image</h3>
                    <div class="image-output" id="image-output">
                        <p style="color: #6b7280;">Your generated image will appear here</p>
                    </div>
                </div>
            </div>

            <!-- Code Generator Panel -->
            <div class="tool-panel" id="code-generator">
                <div class="input-section">
                    <h3>Generate Code</h3>
                    <div class="input-group">
                        <label for="code-prompt">Code Description</label>
                        <textarea id="code-prompt" class="input-field" 
                                placeholder="Describe what code you need... (e.g., 'Create a function to sort an array of objects by date')"></textarea>
                    </div>
                    <div class="input-group">
                        <label for="code-language">Programming Language</label>
                        <select id="code-language" class="select-field">
                            <option value="python">Python</option>
                            <option value="javascript">JavaScript</option>
                            <option value="java">Java</option>
                            <option value="csharp">C#</option>
                            <option value="cpp">C++</option>
                            <option value="go">Go</option>
                            <option value="rust">Rust</option>
                            <option value="php">PHP</option>
                        </select>
                    </div>
                    <button class="generate-btn" onclick="generateCode()">
                        Generate Code
                    </button>
                </div>

                <div class="output-section">
                    <h3>Generated Code</h3>
                    <div class="output-content" id="code-output">
                        Your generated code will appear here...
                    </div>
                </div>
            </div>

            <!-- Agent Builder Panel -->
            <div class="tool-panel" id="agent-builder">
                <div class="input-section">
                    <h3>Build AI Agent</h3>
                    <div class="input-group">
                        <label for="agent-name">Agent Name</label>
                        <input type="text" id="agent-name" class="input-field" 
                               placeholder="Enter agent name (e.g., 'Customer Support Bot')">
                    </div>
                    <div class="input-group">
                        <label for="agent-purpose">Agent Purpose</label>
                        <textarea id="agent-purpose" class="input-field" 
                                placeholder="Describe what this agent should do... (e.g., 'Help customers with product questions and troubleshooting')"></textarea>
                    </div>
                    <div class="input-group">
                        <label for="agent-personality">Personality</label>
                        <select id="agent-personality" class="select-field">
                            <option value="professional">Professional</option>
                            <option value="friendly">Friendly</option>
                            <option value="technical">Technical Expert</option>
                            <option value="creative">Creative</option>
                            <option value="analytical">Analytical</option>
                        </select>
                    </div>
                    <button class="generate-btn" onclick="buildAgent()">
                        Build Agent
                    </button>
                </div>

                <div class="output-section">
                    <h3>Agent Configuration</h3>
                    <div class="output-content" id="agent-output">
                        Your AI agent configuration will appear here...
                    </div>
                </div>
            </div>

            <!-- Project Templates Panel -->
            <div class="tool-panel" id="project-templates">
                <div class="input-section">
                    <h3>Professional Project Templates</h3>
                    <div class="input-group">
                        <label for="project-name">Project Name</label>
                        <input type="text" id="project-name" class="input-field" 
                               placeholder="Enter project name (e.g., 'E-Commerce Platform')">
                    </div>
                    <div class="input-group">
                        <label for="project-type">Project Type</label>
                        <select id="project-type" class="select-field">
                            <option value="website">Website</option>
                            <option value="web_app">Web Application</option>
                            <option value="mobile_app">Mobile Application</option>
                            <option value="admin_panel">Admin Panel</option>
                            <option value="ai_chatbot">AI Chatbot</option>
                            <option value="ai_agent">AI Agent</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="project-tier">Tier Level</label>
                        <select id="project-tier" class="select-field">
                            <option value="basic">Basic - Essential features</option>
                            <option value="intermediate">Intermediate - Enhanced functionality</option>
                            <option value="advanced">Advanced - Full-featured</option>
                            <option value="enterprise">Enterprise - Production-ready</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Components</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 10px;">
                            <label><input type="checkbox" id="comp-frontend" checked> Frontend Components</label>
                            <label><input type="checkbox" id="comp-backend" checked> Backend Services</label>
                            <label><input type="checkbox" id="comp-database" checked> Database Schema</label>
                            <label><input type="checkbox" id="comp-deployment" checked> Deployment Setup</label>
                            <label><input type="checkbox" id="comp-auth"> Authentication</label>
                            <label><input type="checkbox" id="comp-payment"> Payment Integration</label>
                        </div>
                    </div>
                    <button class="generate-btn" onclick="createProjectTemplate()">
                        Create Complete Project
                    </button>
                </div>

                <div class="output-section">
                    <h3>Generated Project Structure</h3>
                    <div class="output-content" id="project-output">
                        Your complete project template will appear here with all files, configurations, and deployment instructions...
                    </div>
                </div>
            </div>

            <!-- Other panels -->
            <div class="tool-panel" id="agent-tester">
                <div class="input-section">
                    <h3>Test AI Agent</h3>
                    <p>Agent testing functionality coming soon...</p>
                </div>
            </div>

            <div class="tool-panel" id="text-processor">
                <div class="input-section">
                    <h3>Process Text</h3>
                    <p>Text processing tools coming soon...</p>
                </div>
            </div>

            <div class="tool-panel" id="data-analyzer">
                <div class="input-section">
                    <h3>Analyze Data</h3>
                    <p>Data analysis tools coming soon...</p>
                </div>
            </div>

            <!-- MITO Chat Interface -->
            <div class="tool-panel" id="mito-chat">
                <div class="chat-container">
                    <div class="chat-header">
                        <h3>Chat with MITO</h3>
                        <span class="chat-status">Online</span>
                    </div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <div class="message mito-message">
                            <div class="message-avatar">M</div>
                            <div class="message-content">
                                <strong>MITO:</strong> Hello! I'm MITO, your AI development assistant. I can help you with coding, project planning, problem-solving, and creative tasks. What would you like to work on today?
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-area">
                        <input type="text" id="chat-input" class="chat-input" 
                               placeholder="Ask MITO anything about development, AI, or creative projects..." 
                               onkeypress="handleChatEnter(event)">
                        <button class="chat-send-btn" onclick="sendMessage()">Send</button>
                    </div>
                </div>
            </div>

            <!-- File Converter -->
            <div class="tool-panel" id="file-converter">
                <div class="input-section">
                    <h3>Universal File Converter</h3>
                    <p>Convert between any file formats - documents, images, audio, video, data files</p>
                    
                    <div class="converter-area">
                        <div class="upload-zone" onclick="document.getElementById('converter-file').click()">
                            <div class="upload-icon">FILE</div>
                            <div class="upload-text">
                                <strong>Drop files here or click to upload</strong>
                                <p>Supports: PDF, DOCX, XLSX, PNG, JPG, MP4, MP3, CSV, JSON, XML, and more</p>
                            </div>
                            <input type="file" id="converter-file" style="display: none" 
                                   onchange="handleFileUpload(this, 'converter')" multiple>
                        </div>
                        
                        <div class="conversion-options">
                            <div class="input-group">
                                <label for="target-format">Convert to Format</label>
                                <select id="target-format" class="select-field">
                                    <optgroup label="Documents">
                                        <option value="pdf">PDF</option>
                                        <option value="docx">Word Document</option>
                                        <option value="txt">Text File</option>
                                        <option value="rtf">Rich Text Format</option>
                                    </optgroup>
                                    <optgroup label="Images">
                                        <option value="png">PNG</option>
                                        <option value="jpg">JPEG</option>
                                        <option value="webp">WebP</option>
                                        <option value="svg">SVG</option>
                                    </optgroup>
                                    <optgroup label="Data">
                                        <option value="csv">CSV</option>
                                        <option value="json">JSON</option>
                                        <option value="xml">XML</option>
                                        <option value="xlsx">Excel</option>
                                    </optgroup>
                                    <optgroup label="Audio/Video">
                                        <option value="mp3">MP3</option>
                                        <option value="wav">WAV</option>
                                        <option value="mp4">MP4</option>
                                        <option value="webm">WebM</option>
                                    </optgroup>
                                </select>
                            </div>
                            
                            <button class="generate-btn" onclick="convertFile()">
                                Convert File
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="output-section">
                    <h3>Conversion Results</h3>
                    <div class="output-content" id="converter-output">
                        Select a file and target format to begin conversion...
                    </div>
                </div>
            </div>

            <!-- File Manager -->
            <div class="tool-panel" id="file-manager">
                <div class="file-manager-container">
                    <div class="file-upload-section">
                        <h3>File Upload & Management</h3>
                        
                        <div class="upload-zone large" onclick="document.getElementById('manager-files').click()">
                            <div class="upload-icon">⬆️</div>
                            <div class="upload-text">
                                <strong>Upload Files</strong>
                                <p>Drag and drop files here or click to browse</p>
                                <small>Maximum size: 50MB per file</small>
                            </div>
                            <input type="file" id="manager-files" style="display: none" 
                                   onchange="handleFileUpload(this, 'manager')" multiple>
                        </div>
                        
                        <div class="upload-options">
                            <label>
                                <input type="checkbox" id="auto-process"> Auto-process uploaded files
                            </label>
                            <label>
                                <input type="checkbox" id="create-backup"> Create backup copies
                            </label>
                        </div>
                    </div>
                    
                    <div class="file-list-section">
                        <h3>Your Files</h3>
                        <div class="file-controls">
                            <button class="control-btn" onclick="refreshFileList()">Refresh</button>
                            <button class="control-btn" onclick="downloadSelected()">Download Selected</button>
                            <button class="control-btn" onclick="downloadAll()">Download All</button>
                            <button class="control-btn" onclick="selectAll()">Select All</button>
                            <button class="control-btn" onclick="clearAllFiles()">Clear All</button>
                        </div>
                        
                        <div class="file-list" id="file-list">
                            <div class="empty-state">
                                No files uploaded yet. Upload files to see them here.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Plugin Manager -->
            <div class="tool-panel" id="plugin-manager">
                <div class="input-section">
                    <h3>Plugin Manager</h3>
                    <p>Manage and install plugins to extend MITO's capabilities</p>
                    
                    <div class="plugin-categories">
                        <button class="category-btn active" onclick="showPluginCategory('available')">Available</button>
                        <button class="category-btn" onclick="showPluginCategory('installed')">Installed</button>
                        <button class="category-btn" onclick="showPluginCategory('custom')">Custom</button>
                    </div>
                    
                    <div class="plugin-list" id="available-plugins">
                        <div class="plugin-card">
                            <div class="plugin-header">
                                <h4>NLU Analyzer</h4>
                                <span class="plugin-status">Available</span>
                            </div>
                            <p>Natural Language Understanding with sentiment analysis, entity extraction, and intent recognition</p>
                            <div class="plugin-actions">
                                <button class="plugin-btn" onclick="installPlugin('nlu-analyzer')">Install</button>
                                <button class="plugin-btn secondary" onclick="viewPluginDetails('nlu-analyzer')">Details</button>
                            </div>
                        </div>
                        
                        <div class="plugin-card">
                            <div class="plugin-header">
                                <h4>Text-to-Speech</h4>
                                <span class="plugin-status">Available</span>
                            </div>
                            <p>Convert text to natural speech using multiple voice providers</p>
                            <div class="plugin-actions">
                                <button class="plugin-btn" onclick="installPlugin('text-to-speech')">Install</button>
                                <button class="plugin-btn secondary" onclick="viewPluginDetails('text-to-speech')">Details</button>
                            </div>
                        </div>
                        
                        <div class="plugin-card">
                            <div class="plugin-header">
                                <h4>Translation Engine</h4>
                                <span class="plugin-status">Available</span>
                            </div>
                            <p>Multi-language translation with context awareness</p>
                            <div class="plugin-actions">
                                <button class="plugin-btn" onclick="installPlugin('translation-engine')">Install</button>
                                <button class="plugin-btn secondary" onclick="viewPluginDetails('translation-engine')">Details</button>
                            </div>
                        </div>
                        
                        <div class="plugin-card">
                            <div class="plugin-header">
                                <h4>Database Connector</h4>
                                <span class="plugin-status">Available</span>
                            </div>
                            <p>Connect to various databases: PostgreSQL, MySQL, MongoDB, Redis</p>
                            <div class="plugin-actions">
                                <button class="plugin-btn" onclick="installPlugin('database-connector')">Install</button>
                                <button class="plugin-btn secondary" onclick="viewPluginDetails('database-connector')">Details</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plugin-list" id="installed-plugins" style="display: none;">
                        <div class="empty-state">
                            No plugins installed yet. Browse available plugins to get started.
                        </div>
                    </div>
                    
                    <div class="plugin-list" id="custom-plugins" style="display: none;">
                        <div class="custom-plugin-form">
                            <h4>Install Custom Plugin</h4>
                            <div class="input-group">
                                <label for="plugin-url">Plugin URL or Git Repository</label>
                                <input type="text" id="plugin-url" class="input-field" 
                                       placeholder="https://github.com/user/plugin.git">
                            </div>
                            <div class="input-group">
                                <label for="plugin-name">Plugin Name</label>
                                <input type="text" id="plugin-name" class="input-field" 
                                       placeholder="My Custom Plugin">
                            </div>
                            <button class="generate-btn" onclick="installCustomPlugin()">
                                Install Custom Plugin
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NLU Processor -->
            <div class="tool-panel" id="nlu-processor">
                <div class="input-section">
                    <h3>NLU Text Processor</h3>
                    <p>Analyze text for sentiment, entities, intent, and other natural language features</p>
                    
                    <div class="input-group">
                        <label for="nlu-text">Text to Analyze</label>
                        <textarea id="nlu-text" class="input-field" rows="6" 
                                  placeholder="Enter text for natural language understanding analysis...">I love using MITO Engine for AI development. It makes building intelligent applications so much easier!</textarea>
                    </div>
                    
                    <div class="input-group">
                        <label for="analysis-type">Analysis Type</label>
                        <select id="analysis-type" class="input-field">
                            <option value="all">Complete Analysis</option>
                            <option value="sentiment">Sentiment Only</option>
                            <option value="entities">Entity Extraction</option>
                            <option value="intent">Intent Recognition</option>
                        </select>
                    </div>
                    
                    <button class="generate-btn" onclick="analyzeText()">
                        Analyze Text
                    </button>
                </div>
                
                <div class="output-section">
                    <h3>Analysis Results</h3>
                    <div class="output-content" id="nlu-output">
                        Click "Analyze Text" to see natural language understanding results...
                    </div>
                </div>
            </div>

            <!-- API Integrations -->
            <div class="tool-panel" id="api-integrations">
                <div class="input-section">
                    <h3>API Integrations</h3>
                    <p>Connect external APIs and services to MITO</p>
                    
                    <div class="api-grid">
                        <div class="api-card">
                            <div class="api-header">
                                <h4>Google Cloud APIs</h4>
                                <span class="connection-status disconnected">Disconnected</span>
                            </div>
                            <p>Translation, Vision, Speech, Natural Language</p>
                            <div class="api-config">
                                <input type="password" class="api-key-input" placeholder="API Key" id="google-api-key">
                                <button class="connect-btn" onclick="connectAPI('google')">Connect</button>
                            </div>
                        </div>
                        
                        <div class="api-card">
                            <div class="api-header">
                                <h4>AWS Services</h4>
                                <span class="connection-status disconnected">Disconnected</span>
                            </div>
                            <p>Comprehend, Translate, Polly, Rekognition</p>
                            <div class="api-config">
                                <input type="password" class="api-key-input" placeholder="Access Key" id="aws-access-key">
                                <input type="password" class="api-key-input" placeholder="Secret Key" id="aws-secret-key">
                                <button class="connect-btn" onclick="connectAPI('aws')">Connect</button>
                            </div>
                        </div>
                        
                        <div class="api-card">
                            <div class="api-header">
                                <h4>Microsoft Azure</h4>
                                <span class="connection-status disconnected">Disconnected</span>
                            </div>
                            <p>Cognitive Services, Text Analytics, Speech</p>
                            <div class="api-config">
                                <input type="password" class="api-key-input" placeholder="Subscription Key" id="azure-api-key">
                                <button class="connect-btn" onclick="connectAPI('azure')">Connect</button>
                            </div>
                        </div>
                        
                        <div class="api-card">
                            <div class="api-header">
                                <h4>Hugging Face</h4>
                                <span class="connection-status disconnected">Disconnected</span>
                            </div>
                            <p>Transformers, Datasets, Model Hub</p>
                            <div class="api-config">
                                <input type="password" class="api-key-input" placeholder="API Token" id="huggingface-api-key">
                                <button class="connect-btn" onclick="connectAPI('huggingface')">Connect</button>
                            </div>
                        </div>
                        
                        <div class="api-card">
                            <div class="api-header">
                                <h4>Custom API</h4>
                                <span class="connection-status disconnected">Disconnected</span>
                            </div>
                            <p>Add your own API endpoints</p>
                            <div class="api-config">
                                <input type="text" class="api-key-input" placeholder="API Endpoint URL" id="custom-api-url">
                                <input type="password" class="api-key-input" placeholder="API Key" id="custom-api-key">
                                <button class="connect-btn" onclick="connectAPI('custom')">Connect</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="output-section">
                    <h3>Connection Status</h3>
                    <div class="output-content" id="api-status">
                        Connect APIs above to see their status and test functionality...
                    </div>
                </div>
            </div>

            <!-- Database Manager -->
            <div class="tool-panel" id="database-manager">
                <div class="input-section">
                    <h3>Free Database Manager</h3>
                    <p>Connect and manage free databases without API costs</p>
                    
                    <div class="database-categories">
                        <button class="category-btn active" onclick="showDatabaseCategory('local')">Local Databases</button>
                        <button class="category-btn" onclick="showDatabaseCategory('cloud')">Cloud Free Tiers</button>
                        <button class="category-btn" onclick="showDatabaseCategory('file')">File-Based</button>
                    </div>
                    
                    <!-- Local Databases -->
                    <div class="database-list" id="local-databases">
                        <div class="database-card">
                            <div class="database-header">
                                <h4>SQLite Local Database</h4>
                                <span class="database-status free">100% Free</span>
                            </div>
                            <p>Lightweight local database - no server required, perfect for development and small applications</p>
                            <div class="database-features">
                                <span class="feature-tag">Local Storage</span>
                                <span class="feature-tag">SQL Support</span>
                                <span class="feature-tag">No Setup</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="createSQLiteDB()">Create Database</button>
                                <button class="database-btn secondary" onclick="connectSQLite()">Connect Existing</button>
                            </div>
                        </div>
                        
                        <div class="database-card">
                            <div class="database-header">
                                <h4>JSON File Database</h4>
                                <span class="database-status free">100% Free</span>
                            </div>
                            <p>Simple file-based storage using JSON format - great for prototyping and configuration data</p>
                            <div class="database-features">
                                <span class="feature-tag">File-Based</span>
                                <span class="feature-tag">JSON Format</span>
                                <span class="feature-tag">Version Control</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="createJSONDB()">Create JSON DB</button>
                                <button class="database-btn secondary" onclick="loadJSONFile()">Load JSON File</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cloud Free Tiers -->
                    <div class="database-list" id="cloud-databases" style="display: none;">
                        <div class="database-card">
                            <div class="database-header">
                                <h4>Supabase Free Tier</h4>
                                <span class="database-status free">500MB Free</span>
                            </div>
                            <p>PostgreSQL database with authentication, real-time features, and REST API</p>
                            <div class="database-features">
                                <span class="feature-tag">PostgreSQL</span>
                                <span class="feature-tag">Authentication</span>
                                <span class="feature-tag">Real-time</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="connectSupabase()">Connect Supabase</button>
                                <button class="database-btn secondary" onclick="openSupabaseGuide()">Setup Guide</button>
                            </div>
                        </div>
                        
                        <div class="database-card">
                            <div class="database-header">
                                <h4>MongoDB Atlas Free</h4>
                                <span class="database-status free">512MB Free</span>
                            </div>
                            <p>Cloud MongoDB with full features, backup, and monitoring included</p>
                            <div class="database-features">
                                <span class="feature-tag">NoSQL</span>
                                <span class="feature-tag">Cloud Hosting</span>
                                <span class="feature-tag">Backup</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="connectMongoDB()">Connect MongoDB</button>
                                <button class="database-btn secondary" onclick="openMongoGuide()">Setup Guide</button>
                            </div>
                        </div>
                        
                        <div class="database-card">
                            <div class="database-header">
                                <h4>PlanetScale Free</h4>
                                <span class="database-status free">5GB Free</span>
                            </div>
                            <p>Serverless MySQL with database branching and automatic scaling</p>
                            <div class="database-features">
                                <span class="feature-tag">MySQL</span>
                                <span class="feature-tag">Branching</span>
                                <span class="feature-tag">Scaling</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="connectPlanetScale()">Connect PlanetScale</button>
                                <button class="database-btn secondary" onclick="openPlanetScaleGuide()">Setup Guide</button>
                            </div>
                        </div>
                        
                        <div class="database-card">
                            <div class="database-header">
                                <h4>Firebase Firestore</h4>
                                <span class="database-status free">1GB Free</span>
                            </div>
                            <p>NoSQL document database with real-time sync and offline support</p>
                            <div class="database-features">
                                <span class="feature-tag">NoSQL Documents</span>
                                <span class="feature-tag">Real-time Sync</span>
                                <span class="feature-tag">Offline</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="connectFirestore()">Connect Firestore</button>
                                <button class="database-btn secondary" onclick="openFirebaseGuide()">Setup Guide</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- File-Based -->
                    <div class="database-list" id="file-databases" style="display: none;">
                        <div class="database-card">
                            <div class="database-header">
                                <h4>CSV Data Handler</h4>
                                <span class="database-status free">100% Free</span>
                            </div>
                            <p>Work with CSV files as databases with query and manipulation capabilities</p>
                            <div class="database-features">
                                <span class="feature-tag">CSV Processing</span>
                                <span class="feature-tag">Data Queries</span>
                                <span class="feature-tag">Export</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="loadCSVDatabase()">Load CSV File</button>
                                <button class="database-btn secondary" onclick="createCSVTemplate()">Create Template</button>
                            </div>
                        </div>
                        
                        <div class="database-card">
                            <div class="database-header">
                                <h4>Excel Data Manager</h4>
                                <span class="database-status free">100% Free</span>
                            </div>
                            <p>Handle Excel files as data sources with sheet management and formulas</p>
                            <div class="database-features">
                                <span class="feature-tag">Excel Support</span>
                                <span class="feature-tag">Multiple Sheets</span>
                                <span class="feature-tag">Formulas</span>
                            </div>
                            <div class="database-actions">
                                <button class="database-btn" onclick="loadExcelDatabase()">Load Excel File</button>
                                <button class="database-btn secondary" onclick="createExcelTemplate()">Create Template</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="output-section">
                    <h3>Database Connections</h3>
                    <div class="output-content" id="database-status">
                        Select a database option above to get started with free data storage...
                    </div>
                </div>
            </div>

            <!-- AI Factory Tool -->
            <div id="ai-factory" class="tool-content" style="display: none;">
                <div class="tool-header">
                    <h3>AI Factory - Manufacturing Pipeline</h3>
                    <p>Complete AI development and manufacturing from concept to deployment</p>
                </div>
                
                <div class="form-section">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div style="border: 1px solid #007bff; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
                            <h5>Concept & Design</h5>
                            <ul style="list-style: none; padding: 0; font-size: 0.9em;">
                                <li>Problem Definition</li>
                                <li>Data Requirements</li>
                                <li>Architecture Planning</li>
                                <li>Resource Estimation</li>
                            </ul>
                            <button class="btn btn-primary">Start Design</button>
                        </div>
                        
                        <div style="border: 1px solid #28a745; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);">
                            <h5>Data Pipeline</h5>
                            <ul style="list-style: none; padding: 0; font-size: 0.9em;">
                                <li>Data Collection</li>
                                <li>Data Cleaning</li>
                                <li>Feature Engineering</li>
                                <li>Data Validation</li>
                            </ul>
                            <button class="btn btn-success">Build Pipeline</button>
                        </div>
                        
                        <div style="border: 1px solid #ffc107; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #fffde7 0%, #fff9c4 100%);">
                            <h5>Model Development</h5>
                            <ul style="list-style: none; padding: 0; font-size: 0.9em;">
                                <li>Algorithm Selection</li>
                                <li>Training & Validation</li>
                                <li>Hyperparameter Tuning</li>
                                <li>Performance Optimization</li>
                            </ul>
                            <button class="btn btn-warning">Develop Model</button>
                        </div>
                        
                        <div style="border: 1px solid #dc3545; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);">
                            <h5>Production Deploy</h5>
                            <ul style="list-style: none; padding: 0; font-size: 0.9em;">
                                <li>Model Packaging</li>
                                <li>API Development</li>
                                <li>Monitoring Setup</li>
                                <li>CI/CD Pipeline</li>
                            </ul>
                            <button class="btn btn-danger">Deploy Now</button>
                        </div>
                    </div>
                    
                    <h4>Custom AI Builder</h4>
                    <div style="border: 1px solid #007bff; padding: 20px; border-radius: 8px; background: #f8f9fa; margin-bottom: 20px;">
                        <h5>Configure Your AI Application</h5>
                        
                        <!-- AI Functions Selection -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">What functions should your AI have?</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-search" style="margin-right: 8px;">
                                    <span>Search & Retrieval</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-chat" style="margin-right: 8px;">
                                    <span>Conversational AI</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-nlp" style="margin-right: 8px;">
                                    <span>Text Processing</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-image" style="margin-right: 8px;">
                                    <span>Image Analysis</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-prediction" style="margin-right: 8px;">
                                    <span>Predictions & ML</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-recommendations" style="margin-right: 8px;">
                                    <span>Recommendations</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-data-analysis" style="margin-right: 8px;">
                                    <span>Data Analysis</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="func-automation" style="margin-right: 8px;">
                                    <span>Task Automation</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Project Structure -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">Project Structure</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">Number of folders/modules:</label>
                                    <select id="folder-count" class="form-control">
                                        <option value="single">Single file (simple)</option>
                                        <option value="basic">Basic structure (3-5 folders)</option>
                                        <option value="modular">Modular structure (6-10 folders)</option>
                                        <option value="enterprise">Enterprise structure (10+ folders)</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">Code organization:</label>
                                    <select id="code-organization" class="form-control">
                                        <option value="procedural">Simple functions</option>
                                        <option value="oop">Object-oriented classes</option>
                                        <option value="mvc">MVC pattern</option>
                                        <option value="microservices">Microservices</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Interface Options -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">Interface & Deployment</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px;">
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="interface-web" style="margin-right: 8px;">
                                    <span>Web Interface (HTML/CSS/JS)</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="interface-api" style="margin-right: 8px;">
                                    <span>REST API</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="interface-terminal" style="margin-right: 8px;">
                                    <span>Terminal/CLI Interface</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="interface-dashboard" style="margin-right: 8px;">
                                    <span>Admin Dashboard</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="interface-mobile" style="margin-right: 8px;">
                                    <span>Mobile-Responsive</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Deployment Options -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">How will it run?</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="radio" name="deployment" value="script" style="margin-right: 8px;">
                                    <span>Python Script</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="radio" name="deployment" value="server" style="margin-right: 8px;">
                                    <span>Web Server</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="radio" name="deployment" value="docker" style="margin-right: 8px;">
                                    <span>Docker Container</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="radio" name="deployment" value="cloud" style="margin-right: 8px;">
                                    <span>Cloud Function</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="radio" name="deployment" value="desktop" style="margin-right: 8px;">
                                    <span>Desktop App</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Database & Storage -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">Data Storage</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">Database type:</label>
                                    <select id="database-type" class="form-control">
                                        <option value="none">No database</option>
                                        <option value="sqlite">SQLite (local file)</option>
                                        <option value="postgresql">PostgreSQL</option>
                                        <option value="mongodb">MongoDB</option>
                                        <option value="redis">Redis (cache)</option>
                                        <option value="json">JSON files</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">File handling:</label>
                                    <select id="file-handling" class="form-control">
                                        <option value="none">No file uploads</option>
                                        <option value="basic">Basic file upload</option>
                                        <option value="images">Image processing</option>
                                        <option value="documents">Document processing</option>
                                        <option value="csv">CSV/Excel data</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Features -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">Advanced Features</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px;">
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-auth" style="margin-right: 8px;">
                                    <span>User Authentication</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-logging" style="margin-right: 8px;">
                                    <span>Logging & Monitoring</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-api-docs" style="margin-right: 8px;">
                                    <span>API Documentation</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-testing" style="margin-right: 8px;">
                                    <span>Unit Tests</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-config" style="margin-right: 8px;">
                                    <span>Configuration Files</span>
                                </label>
                                <label style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                                    <input type="checkbox" id="feature-caching" style="margin-right: 8px;">
                                    <span>Performance Caching</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- AI Model Configuration -->
                        <div style="margin-bottom: 20px;">
                            <label style="font-weight: bold; display: block; margin-bottom: 8px;">AI Model Settings</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">Model type:</label>
                                    <select id="model-type" class="form-control">
                                        <option value="local">Local (offline)</option>
                                        <option value="api">API-based (OpenAI, etc.)</option>
                                        <option value="hybrid">Hybrid (local + API)</option>
                                        <option value="custom">Custom trained</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 4px;">Performance level:</label>
                                    <select id="performance-level" class="form-control">
                                        <option value="lightweight">Lightweight (fast)</option>
                                        <option value="balanced">Balanced</option>
                                        <option value="high-accuracy">High accuracy</option>
                                        <option value="enterprise">Enterprise grade</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-success btn-lg" style="width: 100%;" onclick="workbench.generateCustomAI()">Generate Custom AI Application</button>
                    </div>
                    
                    <h4>Quick Templates</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Terminal-Only AI</h6>
                            <p style="font-size: 0.85em;">Simple command-line AI tool that runs in terminal</p>
                            <button class="btn btn-outline-primary btn-sm" onclick="workbench.generateQuickTemplate('terminal')">Generate</button>
                        </div>
                        
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Web-Based AI</h6>
                            <p style="font-size: 0.85em;">Full web application with HTML interface</p>
                            <button class="btn btn-outline-primary btn-sm" onclick="workbench.generateQuickTemplate('web')">Generate</button>
                        </div>
                        
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>API Service</h6>
                            <p style="font-size: 0.85em;">REST API that other applications can use</p>
                            <button class="btn btn-outline-primary btn-sm" onclick="workbench.generateQuickTemplate('api')">Generate</button>
                        </div>
                        
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Complete Package</h6>
                            <p style="font-size: 0.85em;">Web + API + Terminal + Documentation</p>
                            <button class="btn btn-outline-primary btn-sm" onclick="workbench.generateQuickTemplate('complete')">Generate</button>
                        </div>
                    </div>
                    
                    <!-- AI Factory Results Container -->
                    <div id="ai-factory-results" class="ai-factory-section" style="margin-top: 20px;"></div>
                </div>
            </div>

            <!-- Phase Manager Tool -->
            <div id="phase-manager" class="tool-content" style="display: none;">
                <div class="tool-header">
                    <h3>Phase Manager - Project Phases & Progress</h3>
                    <p>Break down any creation into manageable phases with clear milestones</p>
                </div>
                
                <div class="form-section">
                    <!-- Current Project Overview -->
                    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px;">
                        <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 15px;">
                            <h5>Current Project: <span id="current-project-name">AI Search Engine</span></h5>
                            <button class="btn btn-outline-primary btn-sm" onclick="startNewProject()">New Project</button>
                        </div>
                        
                        <!-- Overall Progress -->
                        <div style="margin-bottom: 15px;">
                            <label style="font-weight: bold;">Overall Progress</label>
                            <div class="progress" style="height: 25px; margin-top: 5px;">
                                <div id="overall-progress" class="progress-bar progress-bar-striped" style="width: 35%;">Phase 2 of 6 (35%)</div>
                            </div>
                        </div>
                        
                        <!-- Phase Status -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                            <div style="text-align: center; padding: 10px; background: #d4edda; border-radius: 5px;">
                                <strong>Phase 1</strong><br>
                                <span style="color: #155724;">Complete</span>
                            </div>
                            <div style="text-align: center; padding: 10px; background: #fff3cd; border-radius: 5px;">
                                <strong>Phase 2</strong><br>
                                <span style="color: #856404;">Active</span>
                            </div>
                            <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                <strong>Phase 3</strong><br>
                                <span style="color: #6c757d;">Pending</span>
                            </div>
                            <div style="text-align: center; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                                <strong>Phase 4</strong><br>
                                <span style="color: #6c757d;">Pending</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Phase Details -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Active Phase Details -->
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h6 style="color: #856404;">🔥 Current Phase: Architecture Design</h6>
                            
                            <div style="margin: 15px 0;">
                                <div class="progress" style="height: 20px;">
                                    <div class="progress-bar bg-warning" style="width: 60%;">60%</div>
                                </div>
                                <small>3 of 5 tasks completed</small>
                            </div>
                            
                            <h6>Tasks in this Phase:</h6>
                            <ul style="list-style: none; padding: 0;">
                                <li style="margin: 8px 0; padding: 8px; background: #d4edda; border-radius: 4px;">
                                    Define data models
                                </li>
                                <li style="margin: 8px 0; padding: 8px; background: #d4edda; border-radius: 4px;">
                                    Design API endpoints
                                </li>
                                <li style="margin: 8px 0; padding: 8px; background: #d4edda; border-radius: 4px;">
                                    Choose database schema
                                </li>
                                <li style="margin: 8px 0; padding: 8px; background: #fff3cd; border-radius: 4px;">
                                    Set up vector embeddings
                                </li>
                                <li style="margin: 8px 0; padding: 8px; background: #f8f9fa; border-radius: 4px;">
                                    Configure search algorithms
                                </li>
                            </ul>
                            
                            <button class="btn btn-warning" onclick="continueCurrentPhase()" style="width: 100%; margin-top: 10px;">Continue Current Task</button>
                        </div>
                        
                        <!-- All Phases Overview -->
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h6>📋 All Project Phases</h6>
                            
                            <div id="phases-list" style="max-height: 400px; overflow-y: auto;">
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #28a745; background: #f8f9fa; border-radius: 4px;">
                                    <strong>Phase 1: Planning & Requirements</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        Completed - Define project scope, gather requirements, create specifications
                                    </div>
                                </div>
                                
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #ffc107; background: #fff3cd; border-radius: 4px;">
                                    <strong>Phase 2: Architecture Design</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        In Progress - Design system architecture, data models, API structure
                                    </div>
                                </div>
                                
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #6c757d; background: #f8f9fa; border-radius: 4px;">
                                    <strong>Phase 3: Core Development</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        Pending - Build main application logic, implement search functionality
                                    </div>
                                </div>
                                
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #6c757d; background: #f8f9fa; border-radius: 4px;">
                                    <strong>Phase 4: Interface Development</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        Pending - Create user interface, API endpoints, admin dashboard
                                    </div>
                                </div>
                                
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #6c757d; background: #f8f9fa; border-radius: 4px;">
                                    <strong>Phase 5: Testing & Optimization</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        Pending - Run tests, optimize performance, fix bugs
                                    </div>
                                </div>
                                
                                <div class="phase-item" style="margin: 10px 0; padding: 15px; border-left: 4px solid #6c757d; background: #f8f9fa; border-radius: 4px;">
                                    <strong>Phase 6: Deployment & Documentation</strong>
                                    <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                        Pending - Deploy to production, create documentation, final testing
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Phase Actions -->
                    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-top: 20px;">
                        <h6>Phase Management</h6>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                            <button class="btn btn-success" onclick="markPhaseComplete()">Mark Current Phase Complete</button>
                            <button class="btn btn-primary" onclick="skipToPhase()">Skip to Specific Phase</button>
                            <button class="btn btn-info" onclick="addCustomPhase()">Add Custom Phase</button>
                            <button class="btn btn-warning" onclick="editPhaseDetails()">Edit Phase Details</button>
                            <button class="btn btn-secondary" onclick="exportPhaseReport()">Export Progress Report</button>
                            <button class="btn btn-outline-danger" onclick="resetProject()">Reset Project</button>
                        </div>
                    </div>
                    
                    <!-- Quick Project Templates -->
                    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-top: 20px;">
                        <h6>Quick Start Templates</h6>
                        <p style="color: #666; margin-bottom: 15px;">Start a new project with pre-defined phases</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
                                <strong>AI Application</strong>
                                <p style="font-size: 0.9em; color: #666; margin: 5px 0;">6 phases: Planning → Architecture → Development → Testing → Deployment → Maintenance</p>
                                <button class="btn btn-outline-primary btn-sm" onclick="startTemplate('ai-app')">Use Template</button>
                            </div>
                            
                            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
                                <strong>Web Platform</strong>
                                <p style="font-size: 0.9em; color: #666; margin: 5px 0;">5 phases: Design → Frontend → Backend → Integration → Launch</p>
                                <button class="btn btn-outline-primary btn-sm" onclick="startTemplate('web-platform')">Use Template</button>
                            </div>
                            
                            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
                                <strong>API Service</strong>
                                <p style="font-size: 0.9em; color: #666; margin: 5px 0;">4 phases: Specification → Development → Testing → Documentation</p>
                                <button class="btn btn-outline-primary btn-sm" onclick="startTemplate('api-service')">Use Template</button>
                            </div>
                            
                            <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
                                <strong>Custom Project</strong>
                                <p style="font-size: 0.9em; color: #666; margin: 5px 0;">Define your own phases and milestones</p>
                                <button class="btn btn-outline-primary btn-sm" onclick="startTemplate('custom')">Create Custom</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Theme Customization Tool -->
            <div id="theme-customizer" class="tool-content" style="display: none;">
                <div class="tool-header">
                    <h3>Theme Customization</h3>
                    <p>Customize MITO's colors and appearance to match your preferences</p>
                </div>
                
                <div class="form-section">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                        <!-- Color Controls -->
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h5>Primary Colors</h5>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Background Color</label>
                                <input type="color" id="bg-color" value="#1e3a8a" onchange="updateColors()" style="width: 100%; height: 40px; border: none; border-radius: 5px;">
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Accent Color</label>
                                <input type="color" id="accent-color" value="#3b82f6" onchange="updateColors()" style="width: 100%; height: 40px; border: none; border-radius: 5px;">
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Text Color</label>
                                <input type="color" id="text-color" value="#ffffff" onchange="updateColors()" style="width: 100%; height: 40px; border: none; border-radius: 5px;">
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Card Background</label>
                                <input type="color" id="card-bg" value="#ffffff" onchange="updateColors()" style="width: 100%; height: 40px; border: none; border-radius: 5px;">
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Button Color</label>
                                <input type="color" id="button-color" value="#059669" onchange="updateColors()" style="width: 100%; height: 40px; border: none; border-radius: 5px;">
                            </div>
                        </div>
                        
                        <!-- Theme Presets -->
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            <h5>Quick Themes</h5>
                            
                            <div style="display: grid; gap: 10px;">
                                <button class="btn btn-outline-primary" onclick="applyTheme('default')">Default Blue</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('dark')">Dark Mode</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('green')">Matrix Green</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('purple')">Purple Tech</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('orange')">Cyberpunk Orange</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('red')">Neural Red</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('minimal')">Minimal White</button>
                                <button class="btn btn-outline-primary" onclick="applyTheme('neon')">Neon Bright</button>
                            </div>
                            
                            <hr style="margin: 20px 0;">
                            
                            <h6>Custom Options</h6>
                            <div style="margin-bottom: 10px;">
                                <label style="display: block; margin-bottom: 5px;">Border Radius</label>
                                <input type="range" id="border-radius" min="0" max="20" value="10" onchange="updateBorderRadius(this.value)" style="width: 100%;">
                                <small>Current: <span id="radius-value">10px</span></small>
                            </div>
                            
                            <div style="margin-bottom: 10px;">
                                <label style="display: block; margin-bottom: 5px;">Shadow Intensity</label>
                                <input type="range" id="shadow-intensity" min="0" max="10" value="5" onchange="updateShadows(this.value)" style="width: 100%;">
                                <small>Current: <span id="shadow-value">5</span></small>
                            </div>
                            
                            <button class="btn btn-success" onclick="saveTheme()" style="width: 100%; margin-top: 15px;">Save Theme</button>
                            <button class="btn btn-secondary" onclick="resetTheme()" style="width: 100%; margin-top: 10px;">Reset to Default</button>
                        </div>
                    </div>
                    
                    <!-- Live Preview -->
                    <div style="margin-top: 30px; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h5>Live Preview</h5>
                        <div id="theme-preview" style="padding: 20px; border-radius: 10px; background: var(--bg-color, #1e3a8a); color: var(--text-color, #ffffff); margin-top: 10px;">
                            <h6 style="color: var(--text-color, #ffffff);">MITO Engine Preview</h6>
                            <p style="color: var(--text-color, #ffffff); opacity: 0.8;">This is how your interface will look with the selected colors.</p>
                            <div style="background: var(--card-bg, #ffffff); color: #333; padding: 15px; border-radius: var(--border-radius, 10px); margin: 10px 0; box-shadow: var(--box-shadow, 0 2px 10px rgba(0,0,0,0.1));">
                                <strong>Sample Card</strong><br>
                                This represents a tool or content card in your interface.
                            </div>
                            <button style="background: var(--button-color, #059669); color: white; border: none; padding: 10px 20px; border-radius: var(--border-radius, 10px); cursor: pointer;">Sample Button</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Model Trainer Tool -->
            <div id="model-trainer" class="tool-content" style="display: none;">
                <div class="tool-header">
                    <h3>Model Trainer - ML/LM Training Suite</h3>
                    <p>Train and deploy models for your ecosystem using free resources</p>
                </div>
                
                <div class="form-section">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                        <div style="border: 1px solid #28a745; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);">
                            <h5>Local Training</h5>
                            <p style="font-size: 0.9em;">Complete control with zero costs</p>
                            <ul style="font-size: 0.85em;">
                                <li>Full resource control</li>
                                <li>Privacy preserved</li>
                                <li>Custom environments</li>
                                <li>No API limits</li>
                            </ul>
                            <button class="btn btn-success">Setup Local</button>
                        </div>
                        
                        <div style="border: 1px solid #007bff; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);">
                            <h5>Free Cloud Training</h5>
                            <p style="font-size: 0.9em;">Leverage free GPU/TPU resources</p>
                            <ul style="font-size: 0.85em;">
                                <li>Google Colab (Free GPU/TPU)</li>
                                <li>Kaggle Notebooks (Free GPU)</li>
                                <li>Hugging Face Spaces</li>
                                <li>Replit Deployments</li>
                            </ul>
                            <button class="btn btn-primary">Connect Cloud</button>
                        </div>
                    </div>
                    
                    <h4>Available ML/LM Frameworks</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                        <div style="border: 1px solid #ff6b35; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>PyTorch</h6>
                            <div style="margin: 8px 0;">
                                <span style="background: #ff6b35; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">Neural Networks</span>
                                <span style="background: #ff6b35; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">CNNs</span>
                                <span style="background: #ff6b35; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em;">Transformers</span>
                            </div>
                            <button class="btn btn-outline-primary btn-sm">Train</button>
                        </div>
                        
                        <div style="border: 1px solid #ff9500; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>TensorFlow</h6>
                            <div style="margin: 8px 0;">
                                <span style="background: #ff9500; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">Keras</span>
                                <span style="background: #ff9500; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">TF Lite</span>
                                <span style="background: #ff9500; color: white; padding: 2px 6px; border-radius: 8px; font-size: 0.7em;">SavedModel</span>
                            </div>
                            <button class="btn btn-outline-primary btn-sm">Train</button>
                        </div>
                        
                        <div style="border: 1px solid #ffd23f; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Hugging Face</h6>
                            <div style="margin: 8px 0;">
                                <span style="background: #ffd23f; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">BERT</span>
                                <span style="background: #ffd23f; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">GPT</span>
                                <span style="background: #ffd23f; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em;">T5</span>
                            </div>
                            <button class="btn btn-outline-primary btn-sm">Train</button>
                        </div>
                        
                        <div style="border: 1px solid #3ddad7; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Scikit-Learn</h6>
                            <div style="margin: 8px 0;">
                                <span style="background: #3ddad7; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">Classification</span>
                                <span style="background: #3ddad7; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em; margin-right: 3px;">Regression</span>
                                <span style="background: #3ddad7; color: black; padding: 2px 6px; border-radius: 8px; font-size: 0.7em;">Clustering</span>
                            </div>
                            <button class="btn btn-outline-primary btn-sm">Train</button>
                        </div>
                    </div>
                    
                    <div style="border: 1px solid #007bff; padding: 20px; border-radius: 8px; background: #f8f9fa;">
                        <h4>Quick Training Setup</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px;">
                            <div>
                                <label style="font-weight: bold;">Data Source</label>
                                <select class="form-control">
                                    <option>Upload Files</option>
                                    <option>Database Connection</option>
                                    <option>API Source</option>
                                    <option>Public Datasets</option>
                                </select>
                            </div>
                            
                            <div>
                                <label style="font-weight: bold;">Model Purpose</label>
                                <select class="form-control">
                                    <option>Text Processing</option>
                                    <option>Search Enhancement</option>
                                    <option>Data Classification</option>
                                    <option>Recommendation</option>
                                </select>
                            </div>
                            
                            <div>
                                <label style="font-weight: bold;">Training Mode</label>
                                <select class="form-control">
                                    <option>Auto Setup</option>
                                    <option>Custom Config</option>
                                    <option>Transfer Learning</option>
                                    <option>Fine-tuning</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn btn-success btn-lg" style="width: 100%;">Start AI Training</button>
                    </div>
                </div>
            </div>

            <!-- Ecosystem Orchestrator Tool -->
            <div id="ecosystem-orchestrator" class="tool-content" style="display: none;">
                <div class="tool-header">
                    <h3>Ecosystem Orchestrator - Your AI Empire Command Center</h3>
                    <p>Coordinate your entire digital ecosystem architecture</p>
                </div>
                
                <div class="form-section">
                    <div style="border: 1px solid #6c757d; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); margin-bottom: 30px;">
                        <h4 style="color: #495057;">Current Ecosystem Status</h4>
                        
                        <div style="margin-bottom: 20px;">
                            <h5 style="color: #007bff; margin-bottom: 10px;">Data Layer</h5>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px;">
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">PostgreSQL</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #ffc107; padding: 8px; border-radius: 6px; background: #fff3cd; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">MongoDB</div>
                                    <div style="width: 6px; height: 6px; background: #ffc107; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #dc3545; padding: 8px; border-radius: 6px; background: #f8d7da; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Vector DB</div>
                                    <div style="width: 6px; height: 6px; background: #dc3545; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Redis</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <h5 style="color: #28a745; margin-bottom: 10px;">AI Services</h5>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px;">
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">MITO Engine</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">NLP Service</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #ffc107; padding: 8px; border-radius: 6px; background: #fff3cd; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Computer Vision</div>
                                    <div style="width: 6px; height: 6px; background: #ffc107; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #dc3545; padding: 8px; border-radius: 6px; background: #f8d7da; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Search Engine</div>
                                    <div style="width: 6px; height: 6px; background: #dc3545; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h5 style="color: #6f42c1; margin-bottom: 10px;">Applications</h5>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px;">
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Web Interface</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #ffc107; padding: 8px; border-radius: 6px; background: #fff3cd; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">API Gateway</div>
                                    <div style="width: 6px; height: 6px; background: #ffc107; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #dc3545; padding: 8px; border-radius: 6px; background: #f8d7da; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Mobile App</div>
                                    <div style="width: 6px; height: 6px; background: #dc3545; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                                <div style="border: 1px solid #28a745; padding: 8px; border-radius: 6px; background: #d4edda; text-align: center; font-size: 0.8em;">
                                    <div style="font-weight: bold;">Admin Panel</div>
                                    <div style="width: 6px; height: 6px; background: #28a745; border-radius: 50%; margin: 3px auto;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                        <div style="border: 1px solid #007bff; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Deployment Control</h6>
                            <button class="btn btn-primary btn-sm" style="width: 100%; margin-bottom: 5px;">Deploy All Services</button>
                            <button class="btn btn-outline-primary btn-sm" style="width: 100%; margin-bottom: 5px;">Rolling Update</button>
                            <button class="btn btn-outline-danger btn-sm" style="width: 100%;">Emergency Rollback</button>
                        </div>
                        
                        <div style="border: 1px solid #6c757d; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Resource Management</h6>
                            <button class="btn btn-secondary btn-sm" style="width: 100%; margin-bottom: 5px;">Scale Services</button>
                            <button class="btn btn-secondary btn-sm" style="width: 100%; margin-bottom: 5px;">Monitor Resources</button>
                            <button class="btn btn-secondary btn-sm" style="width: 100%;">Optimize Performance</button>
                        </div>
                        
                        <div style="border: 1px solid #17a2b8; padding: 15px; border-radius: 8px; background: #fff;">
                            <h6>Data Flow Control</h6>
                            <button class="btn btn-info btn-sm" style="width: 100%; margin-bottom: 5px;">Configure Pipelines</button>
                            <button class="btn btn-info btn-sm" style="width: 100%; margin-bottom: 5px;">Sync Databases</button>
                            <button class="btn btn-info btn-sm" style="width: 100%;">Backup Everything</button>
                        </div>
                    </div>
                    
                    <div style="border: 1px solid #28a745; padding: 20px; border-radius: 8px; background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);">
                        <h4>Complete Ecosystem Generator</h4>
                        <div style="margin-bottom: 15px;">
                            <label style="font-weight: bold;">Describe Your Vision</label>
                            <textarea class="form-control" rows="3" placeholder="I want to build a complete AI ecosystem that can search, process, and connect all my data sources and applications, becoming the foundation for my digital empire..."></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div>
                                <label style="font-weight: bold;">Architecture Pattern</label>
                                <select class="form-control">
                                    <option>Microservices Architecture</option>
                                    <option>Monolithic + Services</option>
                                    <option>Serverless Architecture</option>
                                    <option>Event-Driven Architecture</option>
                                </select>
                            </div>
                            <div>
                                <label style="font-weight: bold;">Deployment Target</label>
                                <select class="form-control">
                                    <option>Self-Hosted (Free)</option>
                                    <option>Cloud Free Tiers</option>
                                    <option>Hybrid Approach</option>
                                    <option>Edge Computing</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-success btn-lg" style="width: 100%;">Generate Complete AI Ecosystem</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Chat Sidebar -->
    <div class="floating-chat" id="floating-chat">
        <div class="floating-chat-header">
            <h4>MITO Assistant</h4>
            <div class="floating-chat-controls">
                <button class="minimize-btn" onclick="minimizeFloatingChat()">−</button>
                <button class="close-btn" onclick="closeFloatingChat()">×</button>
            </div>
        </div>
        
        <div class="floating-chat-messages" id="floating-chat-messages">
            <div class="message mito-message">
                <div class="message-avatar">M</div>
                <div class="message-content">
                    <strong>MITO:</strong> I'm here to help! Ask me anything while you work.
                </div>
            </div>
        </div>
        
        <div class="floating-chat-input">
            <input type="text" id="floating-chat-input" class="chat-input" 
                   placeholder="Ask MITO..." 
                   onkeypress="handleFloatingChatEnter(event)">
            <button class="chat-send-btn" onclick="sendFloatingMessage()">Send</button>
        </div>
    </div>

    <script>
        // Tool switching functionality
        function switchTool(toolId) {
            // Hide all tool panels and content sections
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.remove('active');
                panel.style.display = 'none';
            });
            document.querySelectorAll('.tool-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
            
            // Show the selected tool
            const selectedTool = document.getElementById(toolId);
            if (selectedTool) {
                if (selectedTool.classList.contains('tool-panel')) {
                    selectedTool.classList.add('active');
                    selectedTool.style.display = 'block';
                } else {
                    selectedTool.style.display = 'block';
                }
            }
            
            // Add active class to clicked button
            if (event && event.target) {
                event.target.classList.add('active');
            }
            
            // Update workspace header
            updateWorkspaceHeader(toolId);
            
            // Update current tool tracker
            currentTool = toolId;
        }

        function updateWorkspaceHeader(toolId) {
            const titles = {
                'whiteboard': 'AI Whiteboard',
                'image-generator': 'PNG Generator',
                'code-generator': 'AI Code Generator',
                'project-templates': 'Professional Project Templates',
                'agent-builder': 'AI Agent Builder',
                'agent-tester': 'AI Agent Tester',
                'text-processor': 'Text Processor',
                'data-analyzer': 'Data Analyzer',
                'mito-chat': 'Chat with MITO',
                'file-converter': 'Universal File Converter',
                'file-manager': 'Upload & Download Manager',
                'plugin-manager': 'Plugin Manager',
                'api-integrations': 'API Integrations',
                'nlu-processor': 'NLU Text Processor',
                'database-manager': 'Database Manager',
                'deployment-manager': 'Deployment Manager',
                'ai-factory': 'AI Factory',
                'model-trainer': 'Model Trainer',
                'ecosystem-orchestrator': 'Ecosystem Orchestrator'
            };
            
            const descriptions = {
                'whiteboard': 'Capture ideas and concepts with AI-powered visual whiteboard',
                'image-generator': 'Generate detailed PNG images from text descriptions',
                'code-generator': 'Generate code in multiple programming languages with AI assistance',
                'project-templates': 'Create complete enterprise-grade projects with all components and deployment configurations',
                'agent-builder': 'Design and configure intelligent AI agents for specific tasks',
                'agent-tester': 'Test and validate your AI agents before deployment',
                'text-processor': 'Process and transform text using AI-powered tools',
                'data-analyzer': 'Analyze and visualize data with AI insights',
                'mito-chat': 'Interactive chat interface with MITO AI assistant',
                'file-converter': 'Convert between multiple file formats seamlessly',
                'file-manager': 'Upload, organize, and download files with selective options',
                'plugin-manager': 'Install and manage plugins to extend MITO capabilities',
                'api-integrations': 'Connect external APIs and services to expand functionality',
                'nlu-processor': 'Analyze text for sentiment, entities, intent recognition, and language insights',
                'database-manager': 'Manage free databases including SQLite, Supabase, MongoDB Atlas, and more',
                'deployment-manager': 'Deploy and manage your AI applications across multiple platforms',
                'ai-factory': 'Complete AI development and manufacturing pipeline from concept to deployment',
                'model-trainer': 'Train, fine-tune, and optimize machine learning models locally and in the cloud',
                'ecosystem-orchestrator': 'Coordinate and manage your entire AI ecosystem architecture'
            };
            
            document.getElementById('workspace-title').textContent = titles[toolId];
            document.getElementById('workspace-description').textContent = descriptions[toolId];
        }

        // Whiteboard functionality
        async function enhanceIdeas() {
            const notes = document.getElementById('whiteboard-notes').value.trim();
            const conceptType = document.getElementById('concept-type').value;
            const output = document.getElementById('whiteboard-output');
            
            if (!notes) {
                showError(output, 'Please enter your ideas or notes first');
                return;
            }
            
            output.textContent = 'MITO is analyzing and enhancing your ideas...';
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `Act as an expert ${conceptType} consultant. Analyze and enhance these ideas:

"${notes}"

Please provide:
1. Structured breakdown of the concepts
2. Key insights and improvements
3. Action items and next steps
4. Potential challenges and solutions
5. Implementation recommendations

Format the response clearly with headings and bullet points.`,
                        provider: 'llama'
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    output.textContent = `Error: ${data.error}`;
                } else {
                    output.textContent = data.response;
                }
            } catch (error) {
                output.textContent = 'Failed to enhance ideas. Please try again.';
            }
        }

        async function visualizeIdeas() {
            const notes = document.getElementById('whiteboard-notes').value.trim();
            const conceptType = document.getElementById('concept-type').value;
            
            if (!notes) {
                alert('Please enter your ideas first');
                return;
            }
            
            // Switch to image generator with auto-filled prompt
            switchTool('image-generator');
            
            // Auto-fill image prompt based on whiteboard notes
            const imagePrompt = `Create a detailed visual representation of this ${conceptType}: ${notes.substring(0, 200)}`;
            document.getElementById('image-prompt').value = imagePrompt;
            
            // Auto-generate the image
            generateImage();
        }

        // Image generation functionality
        async function generateImage() {
            const prompt = document.getElementById('image-prompt').value.trim();
            const style = document.getElementById('image-style').value;
            const output = document.getElementById('image-output');
            
            if (!prompt) {
                showError(output, 'Please enter an image description');
                return;
            }
            
            // Show loading state
            output.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <span>Generating image...</span>
                </div>
            `;
            
            try {
                const response = await fetch('/api/generate-image', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        style: style
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    showError(output, data.error);
                } else {
                    output.innerHTML = `
                        <img src="${data.image_url}" alt="Generated Image" class="generated-image">
                        <div class="success-message">Image generated successfully!</div>
                    `;
                }
            } catch (error) {
                showError(output, 'Failed to generate image. Please try again.');
            }
        }

        // Code generation functionality
        async function generateCode() {
            const prompt = document.getElementById('code-prompt').value.trim();
            const language = document.getElementById('code-language').value;
            const output = document.getElementById('code-output');
            
            if (!prompt) {
                showError(output, 'Please describe the code you need');
                return;
            }
            
            // Show loading state
            output.textContent = 'Generating code...';
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `Generate ${language} code: ${prompt}`,
                        provider: 'llama'
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    output.textContent = `Error: ${data.error}`;
                } else {
                    output.textContent = data.response;
                }
            } catch (error) {
                output.textContent = 'Failed to generate code. Please try again.';
            }
        }

        // Project template creation functionality
        async function createProjectTemplate() {
            const name = document.getElementById('project-name').value.trim();
            const type = document.getElementById('project-type').value;
            const tier = document.getElementById('project-tier').value;
            const output = document.getElementById('project-output');
            
            if (!name) {
                showError(output, 'Please enter a project name');
                return;
            }
            
            // Collect selected components
            const components = [];
            if (document.getElementById('comp-frontend').checked) components.push('frontend');
            if (document.getElementById('comp-backend').checked) components.push('backend');
            if (document.getElementById('comp-database').checked) components.push('database');
            if (document.getElementById('comp-deployment').checked) components.push('deployment');
            if (document.getElementById('comp-auth').checked) components.push('auth');
            if (document.getElementById('comp-payment').checked) components.push('payment');
            
            // Show loading state
            output.textContent = 'Creating comprehensive project template...';
            
            try {
                const response = await fetch('/api/create-project-template', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        name: name,
                        type: type,
                        tier: tier,
                        components: components
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    output.textContent = `Error: ${data.error}`;
                } else {
                    // Format and display the project structure
                    const project = data.project;
                    let outputText = `${data.message}\\n\\n`;
                    outputText += `Project: ${project.name}\\n`;
                    outputText += `Type: ${project.type.replace('_', ' ').toUpperCase()}\\n`;
                    outputText += `Tier: ${project.tier.toUpperCase()}\\n`;
                    outputText += `Components: ${project.components.join(', ')}\\n\\n`;
                    
                    // Show structure
                    outputText += "PROJECT STRUCTURE:\\n";
                    outputText += JSON.stringify(project.structure, null, 2);
                    outputText += "\\n\\nSAMPLE FILES:\\n";
                    for (const [filename, content] of Object.entries(project.files || {})) {
                        outputText += `\\n--- ${filename} ---\\n`;
                        outputText += content.substring(0, 300) + (content.length > 300 ? '...' : '');
                    }
                    
                    if (project.deployment) {
                        outputText += "\\n\\nDEPLOYMENT CONFIGURATIONS:\\n";
                        outputText += "- Docker configuration included\\n";
                        outputText += "- Kubernetes manifests included\\n";
                        outputText += "- Cloud deployment templates included\\n";
                    }
                    
                    output.textContent = outputText;
                }
            } catch (error) {
                output.textContent = 'Failed to create project template. Please try again.';
            }
        }

        // Agent building functionality
        async function buildAgent() {
            const name = document.getElementById('agent-name').value.trim();
            const purpose = document.getElementById('agent-purpose').value.trim();
            const personality = document.getElementById('agent-personality').value;
            const output = document.getElementById('agent-output');
            
            if (!name || !purpose) {
                showError(output, 'Please fill in agent name and purpose');
                return;
            }
            
            // Show loading state
            output.textContent = 'Building AI agent...';
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `Create an AI agent configuration:
Name: ${name}
Purpose: ${purpose}
Personality: ${personality}
Include system prompts, behavior guidelines, and implementation structure.`,
                        provider: 'llama'
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    output.textContent = `Error: ${data.error}`;
                } else {
                    output.textContent = data.response;
                }
            } catch (error) {
                output.textContent = 'Failed to build agent. Please try again.';
            }
        }

        // Chat functionality
        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatMessages = document.getElementById('chat-messages');
            
            // Add user message
            chatMessages.innerHTML += `
                <div class="message user-message">
                    <div class="message-avatar">U</div>
                    <div class="message-content">${message}</div>
                </div>
            `;
            
            // Clear input
            input.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Show MITO typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message mito-message';
            typingDiv.innerHTML = `
                <div class="message-avatar">M</div>
                <div class="message-content">
                    <strong>MITO:</strong> <span class="typing">Thinking...</span>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `You are MITO, an AI development assistant. Respond helpfully and professionally to: ${message}`,
                        provider: 'local'
                    })
                });
                
                const data = await response.json();
                
                // Remove typing indicator
                chatMessages.removeChild(typingDiv);
                
                // Add MITO response
                chatMessages.innerHTML += `
                    <div class="message mito-message">
                        <div class="message-avatar">M</div>
                        <div class="message-content">
                            <strong>MITO:</strong> ${data.response || data.error || 'Sorry, I encountered an issue responding.'}
                        </div>
                    </div>
                `;
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                // Remove typing indicator
                chatMessages.removeChild(typingDiv);
                
                chatMessages.innerHTML += `
                    <div class="message mito-message">
                        <div class="message-avatar">M</div>
                        <div class="message-content">
                            <strong>MITO:</strong> I'm experiencing technical difficulties. Please try again.
                        </div>
                    </div>
                `;
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // File management functionality
        let uploadedFiles = [];

        function handleFileUpload(input, context) {
            const files = Array.from(input.files);
            
            files.forEach(file => {
                const fileObj = {
                    id: Date.now() + Math.random(),
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    lastModified: file.lastModified,
                    file: file
                };
                
                uploadedFiles.push(fileObj);
                
                if (context === 'manager') {
                    updateFileList();
                } else if (context === 'converter') {
                    document.getElementById('converter-output').innerHTML = `
                        <div class="file-ready">
                            <strong>File Ready:</strong> ${file.name} (${formatFileSize(file.size)})
                            <br>Select target format and click Convert.
                        </div>
                    `;
                }
            });
        }

        function updateFileList() {
            const fileList = document.getElementById('file-list');
            
            if (uploadedFiles.length === 0) {
                fileList.innerHTML = '<div class="empty-state">No files uploaded yet. Upload files to see them here.</div>';
                return;
            }
            
            fileList.innerHTML = uploadedFiles.map(file => `
                <div class="file-item" data-id="${file.id}">
                    <input type="checkbox" class="file-checkbox" data-file-id="${file.id}" 
                           onchange="toggleFileSelection('${file.id}')">
                    <div class="file-info">
                        <div class="file-icon">${getFileIcon(file.type)}</div>
                        <div class="file-details">
                            <h4>${file.name}</h4>
                            <p>${formatFileSize(file.size)} • ${new Date(file.lastModified).toLocaleDateString()}</p>
                        </div>
                    </div>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="downloadFile('${file.id}')">Download</button>
                        <button class="file-action-btn" onclick="deleteFile('${file.id}')">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function getFileIcon(type) {
            if (type.startsWith('image/')) return 'IMG';
            if (type.startsWith('video/')) return 'VID';
            if (type.startsWith('audio/')) return 'AUD';
            if (type.includes('pdf')) return 'PDF';
            if (type.includes('text')) return 'TXT';
            if (type.includes('json') || type.includes('xml')) return 'DATA';
            return 'FILE';
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function downloadFile(fileId) {
            const file = uploadedFiles.find(f => f.id.toString() === fileId);
            if (file) {
                const url = URL.createObjectURL(file.file);
                const a = document.createElement('a');
                a.href = url;
                a.download = file.name;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        }

        function deleteFile(fileId) {
            uploadedFiles = uploadedFiles.filter(f => f.id.toString() !== fileId);
            updateFileList();
        }

        function downloadAll() {
            uploadedFiles.forEach(file => {
                downloadFile(file.id.toString());
            });
        }

        function clearAllFiles() {
            if (confirm('Are you sure you want to delete all files?')) {
                uploadedFiles = [];
                updateFileList();
            }
        }

        function refreshFileList() {
            updateFileList();
        }

        // File selection functionality
        let selectedFiles = new Set();

        function toggleFileSelection(fileId) {
            const checkbox = document.querySelector(`input[data-file-id="${fileId}"]`);
            const fileItem = document.querySelector(`div[data-id="${fileId}"]`);
            
            if (checkbox.checked) {
                selectedFiles.add(fileId);
                fileItem.classList.add('selected');
            } else {
                selectedFiles.delete(fileId);
                fileItem.classList.remove('selected');
            }
            
            updateSelectionCount();
        }

        function selectAll() {
            const checkboxes = document.querySelectorAll('.file-checkbox');
            const allSelected = checkboxes.length > 0 && selectedFiles.size === uploadedFiles.length;
            
            if (allSelected) {
                // Deselect all
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                    const fileId = checkbox.getAttribute('data-file-id');
                    selectedFiles.delete(fileId);
                    document.querySelector(`div[data-id="${fileId}"]`).classList.remove('selected');
                });
            } else {
                // Select all
                checkboxes.forEach(checkbox => {
                    checkbox.checked = true;
                    const fileId = checkbox.getAttribute('data-file-id');
                    selectedFiles.add(fileId);
                    document.querySelector(`div[data-id="${fileId}"]`).classList.add('selected');
                });
            }
            
            updateSelectionCount();
        }

        function updateSelectionCount() {
            const selectAllBtn = document.querySelector('button[onclick="selectAll()"]');
            if (selectedFiles.size === 0) {
                selectAllBtn.textContent = 'Select All';
            } else if (selectedFiles.size === uploadedFiles.length) {
                selectAllBtn.textContent = 'Deselect All';
            } else {
                selectAllBtn.textContent = `Select All (${selectedFiles.size}/${uploadedFiles.length})`;
            }
        }

        function downloadSelected() {
            if (selectedFiles.size === 0) {
                alert('Please select files to download first.');
                return;
            }
            
            const selectedFileObjects = uploadedFiles.filter(file => 
                selectedFiles.has(file.id.toString())
            );
            
            if (selectedFileObjects.length === 1) {
                // Single file download
                downloadFile(selectedFileObjects[0].id.toString());
            } else {
                // Multiple files download
                selectedFileObjects.forEach((file, index) => {
                    setTimeout(() => {
                        downloadFile(file.id.toString());
                    }, index * 100); // Stagger downloads by 100ms
                });
                
                alert(`Starting download of ${selectedFileObjects.length} selected files...`);
            }
        }

        // Plugin Manager Functions
        function showPluginCategory(category) {
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide plugin lists
            document.querySelectorAll('.plugin-list').forEach(list => list.style.display = 'none');
            document.getElementById(`${category}-plugins`).style.display = 'block';
        }

        function installPlugin(pluginId) {
            const button = event.target;
            button.textContent = 'Installing...';
            button.disabled = true;
            
            // Simulate plugin installation
            setTimeout(() => {
                button.textContent = 'Installed';
                button.style.background = '#28a745';
                button.disabled = false;
                
                // Move to installed plugins
                const pluginCard = button.closest('.plugin-card');
                const installedList = document.getElementById('installed-plugins');
                
                if (installedList.querySelector('.empty-state')) {
                    installedList.innerHTML = '';
                }
                
                const clonedCard = pluginCard.cloneNode(true);
                clonedCard.querySelector('.plugin-status').textContent = 'Installed';
                clonedCard.querySelector('.plugin-status').style.background = '#28a745';
                
                const actions = clonedCard.querySelector('.plugin-actions');
                actions.innerHTML = `
                    <button class="plugin-btn secondary" onclick="configurePlugin('${pluginId}')">Configure</button>
                    <button class="plugin-btn" style="background: #dc3545;" onclick="uninstallPlugin('${pluginId}')">Uninstall</button>
                `;
                
                installedList.appendChild(clonedCard);
                alert(`${pluginId} plugin installed successfully!`);
            }, 2000);
        }

        function viewPluginDetails(pluginId) {
            const details = {
                'nlu-analyzer': {
                    name: 'NLU Analyzer',
                    version: '1.2.0',
                    description: 'Advanced Natural Language Understanding with sentiment analysis, entity extraction, intent recognition, and multilingual support.',
                    features: ['Sentiment Analysis', 'Entity Extraction', 'Intent Recognition', 'Language Detection', 'Text Classification'],
                    requirements: 'No additional API keys required'
                },
                'text-to-speech': {
                    name: 'Text-to-Speech',
                    version: '2.1.0',
                    description: 'Convert text to natural speech using multiple voice providers including Azure Cognitive Services and Google Cloud.',
                    features: ['Multiple Voice Providers', 'Voice Customization', 'SSML Support', 'Audio Export'],
                    requirements: 'Azure Speech API Key or Google Cloud API Key'
                },
                'translation-engine': {
                    name: 'Translation Engine',
                    version: '1.5.0',
                    description: 'Multi-language translation with context awareness and domain-specific models.',
                    features: ['100+ Languages', 'Context Awareness', 'Batch Translation', 'Custom Models'],
                    requirements: 'Google Translate API Key'
                },
                'database-connector': {
                    name: 'Database Connector',
                    version: '3.0.0',
                    description: 'Connect to various databases with query builder and data visualization capabilities.',
                    features: ['PostgreSQL, MySQL, MongoDB, Redis', 'Query Builder', 'Data Visualization', 'Schema Management'],
                    requirements: 'Database connection credentials'
                }
            };
            
            const plugin = details[pluginId];
            if (plugin) {
                alert(`${plugin.name} v${plugin.version}\n\n${plugin.description}\n\nFeatures:\n• ${plugin.features.join('\n• ')}\n\nRequirements: ${plugin.requirements}`);
            }
        }

        function configurePlugin(pluginId) {
            alert(`Opening configuration for ${pluginId}...`);
        }

        function uninstallPlugin(pluginId) {
            if (confirm(`Are you sure you want to uninstall ${pluginId}?`)) {
                const pluginCard = event.target.closest('.plugin-card');
                pluginCard.remove();
                
                const installedList = document.getElementById('installed-plugins');
                if (installedList.children.length === 0) {
                    installedList.innerHTML = '<div class="empty-state">No plugins installed yet. Browse available plugins to get started.</div>';
                }
                
                alert(`${pluginId} uninstalled successfully.`);
            }
        }

        function installCustomPlugin() {
            const url = document.getElementById('plugin-url').value;
            const name = document.getElementById('plugin-name').value;
            
            if (!url || !name) {
                alert('Please provide both plugin URL and name.');
                return;
            }
            
            alert(`Installing custom plugin: ${name}\nFrom: ${url}\n\nThis feature will be available in a future update.`);
        }

        // API Integration Functions
        function connectAPI(provider) {
            const apiKeyInputs = {
                'google': document.getElementById('google-api-key'),
                'aws': [document.getElementById('aws-access-key'), document.getElementById('aws-secret-key')],
                'azure': document.getElementById('azure-api-key'),
                'huggingface': document.getElementById('huggingface-api-key'),
                'custom': [document.getElementById('custom-api-url'), document.getElementById('custom-api-key')]
            };
            
            const inputs = Array.isArray(apiKeyInputs[provider]) ? apiKeyInputs[provider] : [apiKeyInputs[provider]];
            const values = inputs.map(input => input.value.trim());
            
            if (values.some(value => !value)) {
                alert('Please fill in all required fields.');
                return;
            }
            
            const button = event.target;
            const statusSpan = button.closest('.api-card').querySelector('.connection-status');
            
            button.textContent = 'Connecting...';
            button.disabled = true;
            
            // Simulate API connection
            setTimeout(() => {
                statusSpan.textContent = 'Connected';
                statusSpan.className = 'connection-status connected';
                button.textContent = 'Disconnect';
                button.style.background = '#dc3545';
                button.disabled = false;
                button.onclick = () => disconnectAPI(provider);
                
                updateAPIStatus(provider, 'connected');
                alert(`${provider.toUpperCase()} API connected successfully!`);
            }, 2000);
        }

        function disconnectAPI(provider) {
            const button = event.target;
            const statusSpan = button.closest('.api-card').querySelector('.connection-status');
            
            statusSpan.textContent = 'Disconnected';
            statusSpan.className = 'connection-status disconnected';
            button.textContent = 'Connect';
            button.style.background = '#28a745';
            button.onclick = () => connectAPI(provider);
            
            updateAPIStatus(provider, 'disconnected');
            alert(`${provider.toUpperCase()} API disconnected.`);
        }

        function updateAPIStatus(provider, status) {
            const statusDiv = document.getElementById('api-status');
            const currentTime = new Date().toLocaleTimeString();
            
            statusDiv.innerHTML += `
                <div style="margin-bottom: 8px; padding: 8px; background: ${status === 'connected' ? '#d4edda' : '#f8d7da'}; border-radius: 4px;">
                    <strong>${provider.toUpperCase()}</strong>: ${status} at ${currentTime}
                </div>
            `;
            statusDiv.scrollTop = statusDiv.scrollHeight;
        }

        // NLU Text Analysis Function
        async function analyzeText() {
            const text = document.getElementById('nlu-text').value.trim();
            const analysisType = document.getElementById('analysis-type').value;
            const output = document.getElementById('nlu-output');
            
            if (!text) {
                alert('Please enter text to analyze.');
                return;
            }
            
            // Show loading state
            output.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <span>Analyzing text...</span>
                </div>
            `;
            
            try {
                const response = await fetch('/api/nlu/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        text: text,
                        type: analysisType
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    const analysis = data.analysis;
                    output.innerHTML = `
                        <div class="analysis-results">
                            <div class="result-header">
                                <h4>Analysis Complete</h4>
                                <span class="provider-badge">Provider: ${analysis.provider}</span>
                            </div>
                            
                            <div class="analysis-grid">
                                <div class="analysis-card">
                                    <h5>Text Statistics</h5>
                                    <p><strong>Length:</strong> ${analysis.length} characters</p>
                                    <p><strong>Words:</strong> ${analysis.word_count} words</p>
                                    <p><strong>Language:</strong> ${analysis.language}</p>
                                </div>
                                
                                ${analysis.sentiment ? `
                                <div class="analysis-card">
                                    <h5>Sentiment Analysis</h5>
                                    <p><strong>Overall:</strong> ${analysis.sentiment}</p>
                                </div>
                                ` : ''}
                                
                                ${analysis.analysis ? `
                                <div class="analysis-card full-width">
                                    <h5>AI Analysis</h5>
                                    <div class="analysis-content">${analysis.analysis}</div>
                                </div>
                                ` : ''}
                            </div>
                            
                            <div class="analysis-actions">
                                <button class="secondary-btn" onclick="copyAnalysisToClipboard()">Copy Results</button>
                                <button class="secondary-btn" onclick="downloadAnalysis()">Download Report</button>
                            </div>
                        </div>
                    `;
                } else {
                    output.innerHTML = `
                        <div class="error-message">
                            <h4>Analysis Failed</h4>
                            <p>${data.error}</p>
                            <button class="secondary-btn" onclick="analyzeText()">Try Again</button>
                        </div>
                    `;
                }
            } catch (error) {
                output.innerHTML = `
                    <div class="error-message">
                        <h4>Connection Error</h4>
                        <p>Unable to connect to NLU service. Please check your connection and try again.</p>
                        <button class="secondary-btn" onclick="analyzeText()">Retry</button>
                    </div>
                `;
            }
        }

        function copyAnalysisToClipboard() {
            const analysisContent = document.querySelector('.analysis-results').textContent;
            navigator.clipboard.writeText(analysisContent).then(() => {
                alert('Analysis results copied to clipboard!');
            });
        }

        function downloadAnalysis() {
            const text = document.getElementById('nlu-text').value;
            const analysisContent = document.querySelector('.analysis-results').textContent;
            const blob = new Blob([`NLU Analysis Report\n\nOriginal Text:\n${text}\n\nAnalysis Results:\n${analysisContent}`], 
                                  { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `nlu-analysis-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Database Manager Functions
        function showDatabaseCategory(category) {
            // Update active button
            document.querySelectorAll('.database-categories .category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide database lists
            document.querySelectorAll('.database-list').forEach(list => list.style.display = 'none');
            document.getElementById(`${category}-databases`).style.display = 'flex';
        }

        // Local Database Functions
        function createSQLiteDB() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>Creating SQLite Database</h4>
                    <p>Setting up local SQLite database...</p>
                    <div class="connection-details">
                        <p><strong>Type:</strong> SQLite Local Database</p>
                        <p><strong>Location:</strong> ./data/local.db</p>
                        <p><strong>Status:</strong> <span class="status-connected">Connected</span></p>
                        <p><strong>Features:</strong> SQL queries, transactions, indexes</p>
                    </div>
                    <div class="database-tools">
                        <button class="tool-btn" onclick="showSQLiteQuery()">Query Interface</button>
                        <button class="tool-btn" onclick="exportSQLiteData()">Export Data</button>
                        <button class="tool-btn" onclick="showSQLiteSchema()">View Schema</button>
                    </div>
                </div>
            `;
        }

        function connectSQLite() {
            alert('Upload your existing SQLite database file or provide the file path to connect.');
        }

        function createJSONDB() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>JSON File Database Created</h4>
                    <p>File-based JSON storage ready for use</p>
                    <div class="connection-details">
                        <p><strong>Type:</strong> JSON File Database</p>
                        <p><strong>Location:</strong> ./data/database.json</p>
                        <p><strong>Status:</strong> <span class="status-connected">Ready</span></p>
                        <p><strong>Features:</strong> Document storage, queries, backup</p>
                    </div>
                    <div class="database-tools">
                        <button class="tool-btn" onclick="addJSONRecord()">Add Record</button>
                        <button class="tool-btn" onclick="queryJSONData()">Query Data</button>
                        <button class="tool-btn" onclick="exportJSONData()">Export JSON</button>
                    </div>
                </div>
            `;
        }

        // Cloud Database Functions
        function connectSupabase() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>Connect to Supabase</h4>
                    <p>Enter your Supabase connection details</p>
                    <div class="connection-form">
                        <input type="text" placeholder="Project URL" class="db-input" id="supabase-url">
                        <input type="password" placeholder="anon key" class="db-input" id="supabase-key">
                        <button class="connect-btn" onclick="testSupabaseConnection()">Connect</button>
                    </div>
                    <div class="setup-guide">
                        <h5>Setup Instructions:</h5>
                        <ol>
                            <li>Go to <a href="https://supabase.com" target="_blank">supabase.com</a></li>
                            <li>Create a new project (free tier: 500MB)</li>
                            <li>Copy your project URL and anon key</li>
                            <li>Paste them above and click Connect</li>
                        </ol>
                    </div>
                </div>
            `;
        }

        function connectMongoDB() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>Connect to MongoDB Atlas</h4>
                    <p>Enter your MongoDB Atlas connection string</p>
                    <div class="connection-form">
                        <input type="text" placeholder="Connection String" class="db-input" id="mongodb-uri">
                        <button class="connect-btn" onclick="testMongoConnection()">Connect</button>
                    </div>
                    <div class="setup-guide">
                        <h5>Setup Instructions:</h5>
                        <ol>
                            <li>Go to <a href="https://mongodb.com/atlas" target="_blank">MongoDB Atlas</a></li>
                            <li>Create free cluster (512MB free)</li>
                            <li>Create database user</li>
                            <li>Get connection string from Connect button</li>
                        </ol>
                    </div>
                </div>
            `;
        }

        function connectPlanetScale() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>Connect to PlanetScale</h4>
                    <p>Enter your PlanetScale database connection details</p>
                    <div class="connection-form">
                        <input type="text" placeholder="Host" class="db-input" id="planetscale-host">
                        <input type="text" placeholder="Username" class="db-input" id="planetscale-user">
                        <input type="password" placeholder="Password" class="db-input" id="planetscale-pass">
                        <button class="connect-btn" onclick="testPlanetScaleConnection()">Connect</button>
                    </div>
                    <div class="setup-guide">
                        <h5>Setup Instructions:</h5>
                        <ol>
                            <li>Go to <a href="https://planetscale.com" target="_blank">PlanetScale</a></li>
                            <li>Create free database (5GB free)</li>
                            <li>Create branch and connection</li>
                            <li>Copy connection details</li>
                        </ol>
                    </div>
                </div>
            `;
        }

        function connectFirestore() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>Connect to Firebase Firestore</h4>
                    <p>Enter your Firebase configuration</p>
                    <div class="connection-form">
                        <input type="text" placeholder="Project ID" class="db-input" id="firebase-project">
                        <input type="text" placeholder="API Key" class="db-input" id="firebase-key">
                        <button class="connect-btn" onclick="testFirestoreConnection()">Connect</button>
                    </div>
                    <div class="setup-guide">
                        <h5>Setup Instructions:</h5>
                        <ol>
                            <li>Go to <a href="https://console.firebase.google.com" target="_blank">Firebase Console</a></li>
                            <li>Create new project</li>
                            <li>Enable Firestore Database</li>
                            <li>Get config from Project Settings</li>
                        </ol>
                    </div>
                </div>
            `;
        }

        // File Database Functions
        function loadCSVDatabase() {
            const statusDiv = document.getElementById('database-status');
            statusDiv.innerHTML = `
                <div class="database-connection">
                    <h4>CSV Data Handler</h4>
                    <p>Upload CSV file to work with as database</p>
                    <div class="file-upload-area">
                        <input type="file" accept=".csv" id="csv-file-input" onchange="processCSVFile()">
                        <label for="csv-file-input" class="upload-label">
                            Click to select CSV file or drag and drop
                        </label>
                    </div>
                    <div class="csv-options">
                        <label><input type="checkbox" checked> First row as headers</label>
                        <label><input type="checkbox" checked> Auto-detect data types</label>
                    </div>
                </div>
            `;
        }

        function createCSVTemplate() {
            const csvContent = 'id,name,email,created_date\n1,John Doe,john@example.com,2024-01-01\n2,Jane Smith,jane@example.com,2024-01-02';
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'database_template.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('CSV template downloaded! Use this as a starting point for your data.');
        }

        // Setup Guide Functions
        function openSupabaseGuide() {
            window.open('https://supabase.com/docs/guides/getting-started', '_blank');
        }

        function openMongoGuide() {
            window.open('https://docs.atlas.mongodb.com/getting-started/', '_blank');
        }

        function openPlanetScaleGuide() {
            window.open('https://planetscale.com/docs/tutorials/planetscale-quick-start-guide', '_blank');
        }

        function openFirebaseGuide() {
            window.open('https://firebase.google.com/docs/firestore/quickstart', '_blank');
        }

        // Connection Test Functions
        function testSupabaseConnection() {
            const url = document.getElementById('supabase-url').value;
            const key = document.getElementById('supabase-key').value;
            
            if (!url || !key) {
                alert('Please enter both URL and API key');
                return;
            }
            
            alert('Connection successful! Supabase database is now available for use.');
        }

        function testMongoConnection() {
            const uri = document.getElementById('mongodb-uri').value;
            
            if (!uri) {
                alert('Please enter connection string');
                return;
            }
            
            alert('Connection successful! MongoDB Atlas is now available for use.');
        }

        function testPlanetScaleConnection() {
            const host = document.getElementById('planetscale-host').value;
            const user = document.getElementById('planetscale-user').value;
            const pass = document.getElementById('planetscale-pass').value;
            
            if (!host || !user || !pass) {
                alert('Please fill in all connection details');
                return;
            }
            
            alert('Connection successful! PlanetScale database is now available for use.');
        }

        function testFirestoreConnection() {
            const project = document.getElementById('firebase-project').value;
            const key = document.getElementById('firebase-key').value;
            
            if (!project || !key) {
                alert('Please enter both Project ID and API key');
                return;
            }
            
            alert('Connection successful! Firebase Firestore is now available for use.');
        }

        // File conversion functionality
        async function convertFile() {
            const targetFormat = document.getElementById('target-format').value;
            const output = document.getElementById('converter-output');
            
            if (uploadedFiles.length === 0) {
                output.innerHTML = '<div class="error-message">Please upload a file first.</div>';
                return;
            }
            
            const file = uploadedFiles[uploadedFiles.length - 1]; // Use latest uploaded file
            
            output.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <span>Converting ${file.name} to ${targetFormat.toUpperCase()}...</span>
                </div>
            `;
            
            // Simulate conversion process
            setTimeout(() => {
                const convertedFileName = file.name.replace(/\.[^/.]+$/, `.${targetFormat}`);
                
                output.innerHTML = `
                    <div class="conversion-result">
                        <div class="success-message">Conversion completed successfully!</div>
                        <div class="converted-file">
                            <strong>Original:</strong> ${file.name} (${formatFileSize(file.size)})<br>
                            <strong>Converted:</strong> ${convertedFileName}<br>
                            <button class="generate-btn" onclick="downloadConvertedFile('${convertedFileName}', '${targetFormat}')">
                                Download ${targetFormat.toUpperCase()}
                            </button>
                        </div>
                    </div>
                `;
            }, 2000);
        }

        function downloadConvertedFile(fileName, format) {
            // In a real implementation, this would download the actual converted file
            alert(`Download would start for: ${fileName}\n\nNote: This is a demo. In production, the actual converted file would be downloaded.`);
        }

        // Floating Chat functionality
        let floatingChatOpen = false;
        let floatingChatMinimized = false;

        function toggleFloatingChat() {
            const floatingChat = document.getElementById('floating-chat');
            
            if (!floatingChatOpen) {
                floatingChat.classList.add('open');
                floatingChatOpen = true;
            } else {
                floatingChat.classList.remove('open');
                floatingChatOpen = false;
            }
        }

        function minimizeFloatingChat() {
            const floatingChat = document.getElementById('floating-chat');
            floatingChatMinimized = !floatingChatMinimized;
            
            if (floatingChatMinimized) {
                floatingChat.classList.add('minimized');
            } else {
                floatingChat.classList.remove('minimized');
            }
        }

        function closeFloatingChat() {
            const floatingChat = document.getElementById('floating-chat');
            floatingChat.classList.remove('open');
            floatingChat.classList.remove('minimized');
            floatingChatOpen = false;
            floatingChatMinimized = false;
            
            // Reset position
            floatingChat.style.transform = '';
        }

        function handleFloatingChatEnter(event) {
            if (event.key === 'Enter') {
                sendFloatingMessage();
            }
        }

        async function sendFloatingMessage() {
            const input = document.getElementById('floating-chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatMessages = document.getElementById('floating-chat-messages');
            
            // Add user message
            chatMessages.innerHTML += `
                <div class="message user-message">
                    <div class="message-avatar">U</div>
                    <div class="message-content">${message}</div>
                </div>
            `;
            
            // Clear input
            input.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Show MITO typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message mito-message';
            typingDiv.innerHTML = `
                <div class="message-avatar">M</div>
                <div class="message-content">
                    <strong>MITO:</strong> <span class="typing">Thinking...</span>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `You are MITO, an AI development assistant. Be helpful, concise, and professional. Respond to: ${message}`,
                        provider: 'local'
                    })
                });
                
                const data = await response.json();
                
                // Remove typing indicator
                chatMessages.removeChild(typingDiv);
                
                // Add MITO response
                chatMessages.innerHTML += `
                    <div class="message mito-message">
                        <div class="message-avatar">M</div>
                        <div class="message-content">
                            <strong>MITO:</strong> ${data.response || data.error || 'I encountered an issue. Please try again.'}
                        </div>
                    </div>
                `;
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                // Remove typing indicator
                chatMessages.removeChild(typingDiv);
                
                chatMessages.innerHTML += `
                    <div class="message mito-message">
                        <div class="message-avatar">M</div>
                        <div class="message-content">
                            <strong>MITO:</strong> I'm experiencing technical difficulties. Please try again.
                        </div>
                    </div>
                `;
                
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // Sync chat messages between main chat and floating chat
        function syncChatMessages() {
            const mainMessages = document.getElementById('chat-messages');
            const floatingMessages = document.getElementById('floating-chat-messages');
            
            if (mainMessages && floatingMessages) {
                floatingMessages.innerHTML = mainMessages.innerHTML;
                floatingMessages.scrollTop = floatingMessages.scrollHeight;
            }
        }

        // Make floating chat draggable
        function makeDraggable() {
            const floatingChat = document.getElementById('floating-chat');
            const header = floatingChat.querySelector('.floating-chat-header');
            const closeBtn = header.querySelector('.close-btn');
            const minimizeBtn = header.querySelector('.minimize-btn');
            let isDragging = false;
            let currentX;
            let currentY;
            let initialX;
            let initialY;
            let xOffset = 0;
            let yOffset = 0;

            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            // Prevent dragging when clicking buttons
            closeBtn.addEventListener('mousedown', (e) => e.stopPropagation());
            minimizeBtn.addEventListener('mousedown', (e) => e.stopPropagation());

            function dragStart(e) {
                // Don't start dragging if clicking on buttons
                if (e.target.classList.contains('close-btn') || 
                    e.target.classList.contains('minimize-btn')) {
                    return;
                }

                initialX = e.clientX - xOffset;
                initialY = e.clientY - yOffset;

                if (e.target === header || (header.contains(e.target) && 
                    !e.target.classList.contains('close-btn') && 
                    !e.target.classList.contains('minimize-btn'))) {
                    isDragging = true;
                    header.style.cursor = 'grabbing';
                }
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    currentX = e.clientX - initialX;
                    currentY = e.clientY - initialY;

                    xOffset = currentX;
                    yOffset = currentY;

                    floatingChat.style.transform = `translate3d(${currentX}px, ${currentY}px, 0)`;
                }
            }

            function dragEnd(e) {
                initialX = currentX;
                initialY = currentY;
                isDragging = false;
                header.style.cursor = 'move';
            }
        }

        // Utility functions
        function showError(element, message) {
            element.innerHTML = `<div class="error-message">${message}</div>`;
        }

        // Initialize workbench
        document.addEventListener('DOMContentLoaded', function() {
            // Show default tool on page load
            setTimeout(() => {
                switchTool('mito-chat');
            }, 100);
            makeDraggable();
            
            // Add event listeners for floating chat buttons
            const closeBtn = document.querySelector('.floating-chat .close-btn');
            const minimizeBtn = document.querySelector('.floating-chat .minimize-btn');
            
            if (closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    closeFloatingChat();
                });
            }
            
            if (minimizeBtn) {
                minimizeBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    minimizeFloatingChat();
                });
            }
            
            console.log('MITO AI Workbench initialized');
        });

        // Phase Management Global Functions
        function markPhaseComplete() {
            if (typeof workbench !== 'undefined' && workbench.currentProject) {
                const currentPhase = workbench.currentProject.phases.find(p => p.status === 'active');
                if (currentPhase) {
                    currentPhase.status = 'completed';
                    currentPhase.progress = 100;
                    
                    if (workbench.currentProject.currentPhase < workbench.currentProject.totalPhases) {
                        workbench.currentProject.currentPhase++;
                        const nextPhase = workbench.currentProject.phases.find(p => p.id === workbench.currentProject.currentPhase);
                        if (nextPhase) {
                            nextPhase.status = 'active';
                        }
                    }
                    
                    workbench.updatePhaseDisplay();
                    alert('Phase completed! Moving to next phase.');
                    location.reload();
                }
            }
        }
        
        function continueCurrentPhase() {
            alert('Continuing current phase tasks...');
            if (typeof workbench !== 'undefined') {
                workbench.generateCustomAI();
            }
        }
        
        function startNewProject() {
            const projectName = prompt('Enter new project name:');
            if (projectName && typeof workbench !== 'undefined') {
                workbench.currentProject.name = projectName;
                workbench.currentProject.currentPhase = 1;
                workbench.currentProject.phases.forEach(phase => {
                    phase.status = phase.id === 1 ? 'active' : 'pending';
                    phase.progress = 0;
                    phase.tasks.forEach(task => task.completed = false);
                });
                workbench.updatePhaseDisplay();
                alert('New project started: ' + projectName);
                location.reload();
            }
        }
        
        function startTemplate(templateType) {
            const templates = {
                'ai-app': {
                    name: 'AI Application',
                    phases: ['Planning', 'Architecture', 'Development', 'Testing', 'Deployment', 'Maintenance']
                },
                'web-platform': {
                    name: 'Web Platform',
                    phases: ['Design', 'Frontend', 'Backend', 'Integration', 'Launch']
                },
                'api-service': {
                    name: 'API Service',
                    phases: ['Specification', 'Development', 'Testing', 'Documentation']
                }
            };
            
            const template = templates[templateType];
            if (template && typeof workbench !== 'undefined') {
                workbench.currentProject.name = template.name;
                workbench.currentProject.totalPhases = template.phases.length;
                workbench.currentProject.currentPhase = 1;
                alert(`Started ${template.name} project with ${template.phases.length} phases`);
                location.reload();
            }
        }
        
        function skipToPhase() {
            if (typeof workbench !== 'undefined') {
                const phaseNumber = prompt('Enter phase number to skip to (1-' + workbench.currentProject.totalPhases + '):');
                const phase = parseInt(phaseNumber);
                if (phase >= 1 && phase <= workbench.currentProject.totalPhases) {
                    workbench.currentProject.currentPhase = phase;
                    workbench.currentProject.phases.forEach(p => {
                        if (p.id < phase) {
                            p.status = 'completed';
                            p.progress = 100;
                        } else if (p.id === phase) {
                            p.status = 'active';
                        } else {
                            p.status = 'pending';
                            p.progress = 0;
                        }
                    });
                    workbench.updatePhaseDisplay();
                    alert('Moved to Phase ' + phase);
                    location.reload();
                }
            }
        }
        
        function addCustomPhase() {
            const phaseName = prompt('Enter new phase name:');
            if (phaseName && typeof workbench !== 'undefined') {
                const newPhase = {
                    id: workbench.currentProject.totalPhases + 1,
                    name: phaseName,
                    status: 'pending',
                    progress: 0,
                    tasks: [
                        { name: 'Define requirements', completed: false },
                        { name: 'Implement solution', completed: false },
                        { name: 'Test and validate', completed: false }
                    ]
                };
                workbench.currentProject.phases.push(newPhase);
                workbench.currentProject.totalPhases++;
                alert('Added new phase: ' + phaseName);
                location.reload();
            }
        }
        
        function editPhaseDetails() {
            alert('Phase editing interface would open here - allowing you to modify tasks, descriptions, and requirements for each phase.');
        }
        
        function exportPhaseReport() {
            if (typeof workbench !== 'undefined') {
                const report = `
Project Progress Report
======================
Project: ${workbench.currentProject.name}
Current Phase: ${workbench.currentProject.currentPhase} of ${workbench.currentProject.totalPhases}
Overall Progress: ${Math.round((workbench.currentProject.currentPhase - 1) / workbench.currentProject.totalPhases * 100)}%

Phase Details:
${workbench.currentProject.phases.map(phase => 
    `Phase ${phase.id}: ${phase.name} - ${phase.status.toUpperCase()} (${phase.progress}%)`
).join('\n')}

Generated on: ${new Date().toLocaleString()}
                `;
                
                const blob = new Blob([report], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'phase-progress-report.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        }
        
        function resetProject() {
            if (typeof workbench !== 'undefined' && confirm('Are you sure you want to reset the current project? This will start over from Phase 1.')) {
                workbench.currentProject.currentPhase = 1;
                workbench.currentProject.phases.forEach(phase => {
                    phase.status = phase.id === 1 ? 'active' : 'pending';
                    phase.progress = phase.id === 1 ? 0 : 0;
                    phase.tasks.forEach(task => task.completed = false);
                });
                workbench.updatePhaseDisplay();
                alert('Project reset to Phase 1');
                location.reload();
            }
        }

        // Initialize phase manager when workbench is ready
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                if (typeof workbench !== 'undefined') {
                    workbench.initPhaseManager();
                    workbench.updatePhaseDisplay();
                }
            }, 1000);
        });
    </script>
</body>
</html>